
###############################
### Civil Wars by MrFunEGUY ###
###############################

namespace = civcom

########################
# Planetary Rebellions #
########################

# Planetary Rebellion - Without Vassalization Option
country_event = {
	id = civcom.4000
	title = civcom.4000.name
	desc = civcom.4000.desc
	location = event_target:civwar_rebels
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	picture_event_data = {
		portrait = event_target:civwar_rebels.ruler
		planet_background = event_target:rebellion_planet
		graphical_culture = event_target:civwar_rebels
		city_level = event_target:rebellion_planet
		room = event_target:civwar_rebels.ruler
	}

	# Declare War on the rebels
	option = {
		name = civcom.4000.a
		trigger = {
			is_ai = no
		}
		hidden_effect = {
			event_target:civwar_originator = {
				add_opinion_modifier = {
					who = event_target:civwar_rebels
					modifier = opinion_civwar_planet
				}
			}
			event_target:civwar_rebels = {
				add_opinion_modifier = {
					who = event_target:civwar_originator
					modifier = opinion_civwar_originator
				}
			}
			country_event = { id = civcom.4001 }
		}
	}

	# Let them be fully independent.
	option = {
		name = civcom.4000.b
		trigger = {
			is_ai = no
		}
		hidden_effect = {
			event_target:civwar_originator = {
				add_opinion_modifier = {
					who = event_target:civwar_rebels
					modifier = opinion_civwar_planet_peace
				}
			}
			event_target:civwar_rebels = {
				add_opinion_modifier = {
					who = event_target:civwar_originator
					modifier = opinion_civwar_originator
				}
			}
			country_event = { id = civcom.4002 }
		}
	}

	# AI Option
	option = {
		name = civcom.random
		trigger = {
			is_ai = yes
			NOT = { has_valid_civic = civic_fanatic_purifiers }
			event_target:civwar_rebels = {
				capital_scope = {
					solar_system = {
						NOT = { is_bottleneck_system = yes }
					}
				}
			}
		}
		ai_chance = { factor = 1 }
		random_list = {
			98 = {
				hidden_effect = {
					event_target:civwar_originator = {
						add_opinion_modifier = {
							who = event_target:civwar_rebels
							modifier = opinion_civwar_planet
						}
					}
					event_target:civwar_rebels = {
						add_opinion_modifier = {
							who = event_target:civwar_originator
							modifier = opinion_civwar_originator
						}
					}
					country_event = { id = civcom.4001 }
				}
			}
			2 = {
				hidden_effect = {
					event_target:civwar_originator = {
						add_opinion_modifier = {
							who = event_target:civwar_rebels
							modifier = opinion_civwar_planet_peace
						}
					}
					event_target:civwar_rebels = {
						add_opinion_modifier = {
							who = event_target:civwar_originator
							modifier = opinion_civwar_originator
						}
					}
					country_event = { id = civcom.4002 }
				}
			}
		}
	}

	# Fanatic Purifier AI or bottleneck system option
	option = {
		name = civcom.random
		trigger = {
			is_ai = yes
			OR = {
				has_valid_civic = civic_fanatic_purifiers
				event_target:civwar_rebels = {
					capital_scope = {
						solar_system = {
							is_bottleneck_system = yes
						}
					}
				}
			}
		}
		ai_chance = { factor = 1 }
		hidden_effect = {
			event_target:civwar_originator = {
				add_opinion_modifier = {
					who = event_target:civwar_rebels
					modifier = opinion_civwar_planet
				}
			}
			event_target:civwar_originator = {
				add_opinion_modifier = {
					who = event_target:civwar_rebels
					modifier = opinion_civwar_planet
				}
			}
			country_event = { id = civcom.4001 }
		}
	}
}

# Planetary Rebellion - Declared War
country_event = {
	id = civcom.4001
	title = civcom.4000.name
	desc = civcom.4001.desc
	location = event_target:rebellion_planet
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	picture_event_data = {
		portrait = event_target:civwar_rebels.ruler
		planet_background = event_target:rebellion_planet
		graphical_culture = event_target:civwar_rebels
		city_level = event_target:rebellion_planet
		room = event_target:civwar_rebels.ruler
	}

	option = {
		name = civcom.4001.a
		# This needs to be done to get rid of the "Rebels of" tag on the galactic map.
		hidden_effect = {
			get_rid_rebels_of_originator = yes
			country_event = { id = civwar.5200 }
		}
		ai_chance = { factor = 1 }
	}
}

# Planetary Rebellion - Granted Independence
country_event = {
	id = civcom.4002
	title = civcom.4000.name
	desc = civcom.4002.desc
	location = event_target:rebellion_planet
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	picture_event_data = {
		portrait = event_target:civwar_rebels.ruler
		planet_background = event_target:rebellion_planet
		graphical_culture = event_target:civwar_rebels
		city_level = event_target:rebellion_planet
		room = event_target:civwar_rebels.ruler
	}

	option = {
		name = civcom.4002.a
		ai_chance = { factor = 1 }
		# This needs to be done to get rid of the "Rebels of" tag on the galactic map.
		
		hidden_effect = {
			get_rid_rebels_of_originator = yes
			event_target:civwar_rebels = {
				every_system_within_border = {
					limit = {
						NOT = { root = { has_claim = prev } }
					}
					add_claims = { who = root }
				}
			}
		}
	}
}

# Planetary Rebellion - With Vassalization Option
country_event = {
	id = civcom.4100
	title = civcom.4000.name
	desc = civcom.4100.desc
	location = event_target:rebellion_planet
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	picture_event_data = {
		portrait = event_target:civwar_rebels.ruler
		planet_background = event_target:rebellion_planet
		graphical_culture = event_target:civwar_rebels
		city_level = event_target:rebellion_planet
		room = event_target:civwar_rebels.ruler
	}

	# Declare War on the rebels
	option = {
		name = civcom.4100.a
		trigger = {
			is_ai = no
		}
		hidden_effect = {
			event_target:civwar_originator = {
				add_opinion_modifier = {
					who = event_target:civwar_rebels
					modifier = opinion_civwar_planet
				}
			}
			event_target:civwar_rebels = {
				add_opinion_modifier = {
					who = event_target:civwar_originator
					modifier = opinion_civwar_originator
				}
			}
			country_event = { id = civcom.4001 }
		}
	}

	# Accept their offer of vassalization
	option = {
		name = civcom.4100.b
		trigger = {
			is_ai = no
		}
		custom_tooltip = civcom.4100.b.tooltip
		hidden_effect = { country_event = { id = civcom.4103 } }
	}

	# Let them be fully independent
	option = {
		name = civcom.4000.b
		trigger = {
			is_ai = no
		}
		hidden_effect = {
			event_target:civwar_originator = {
				add_opinion_modifier = {
					who = event_target:civwar_rebels
					modifier = opinion_civwar_planet_peace
				}
			}
			country_event = { id = civcom.4102 }
		}
	}

	# AI Option
	option = {
		name = civcom.random
		trigger = {
			is_ai = yes
			NOR = {
				has_valid_civic = civic_fanatic_purifiers
				event_target:civwar_rebels = {
					capital_scope = {
						solar_system = {
							NOT = { is_bottleneck_system = yes }
						}
					}
				}
			}
		}
		ai_chance = { factor = 1 }
		random_list = {
			93 = {
				hidden_effect = {
					event_target:civwar_originator = {
						add_opinion_modifier = {
							who = event_target:civwar_rebels
							modifier = opinion_civwar_planet
						}
					}
					event_target:civwar_rebels = {
						add_opinion_modifier = {
							who = event_target:civwar_originator
							modifier = opinion_civwar_originator
						}
					}
					country_event = { id = civcom.4001 }
				}
			}
			5 = {
				hidden_effect = { country_event = { id = civcom.4103 } }
			}
			2 = {
				hidden_effect = {
					event_target:civwar_originator = {
						add_opinion_modifier = {
							who = event_target:civwar_rebels
							modifier = opinion_civwar_planet_peace
						}
					}
					country_event = { id = civcom.4102 }
				}
			}
		}
	}

	# Fanatic Purifier AI or bottleneck system option
	option = {
		name = civcom.random
		trigger = {
			is_ai = yes
			OR = {
				has_valid_civic = civic_fanatic_purifiers
				event_target:civwar_rebels = {
					capital_scope = {
						solar_system = {
							is_bottleneck_system = yes
						}
					}
				}
			}
		}
		ai_chance = { factor = 1 }
		hidden_effect = {
			event_target:civwar_originator = {
				add_opinion_modifier = {
					who = event_target:civwar_rebels
					modifier = opinion_civwar_planet
				}
			}
			event_target:civwar_originator = {
				add_opinion_modifier = {
					who = event_target:civwar_rebels
					modifier = opinion_civwar_planet
				}
			}
			country_event = { id = civcom.4001 }
		}
	}
}

# Planetary Rebellion - Granted Independence (even though they offered vassalization)
country_event = {
	id = civcom.4102
	title = civcom.4000.name
	desc = civcom.4102.desc
	location = event_target:rebellion_planet
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	picture_event_data = {
		portrait = event_target:civwar_rebels.ruler
		planet_background = event_target:rebellion_planet
		graphical_culture = event_target:civwar_rebels
		city_level = event_target:rebellion_planet
		room = event_target:civwar_rebels.ruler
	}

	option = {
		name = civcom.4102.a
		ai_chance = { factor = 1 }
		# This needs to be done to get rid of the "Rebels of" tag on the galactic map.
		hidden_effect = {
			get_rid_rebels_of_originator = yes
		}
	}
}

# Planetary Rebellion - Accepted Vassalization Offer
country_event = {
	id = civcom.4103
	title = civcom.4000.name
	desc = civcom.4103.desc
	location = event_target:civwar_rebels
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	picture_event_data = {
		portrait = event_target:civwar_rebels.ruler
		planet_background = event_target:rebellion_planet
		graphical_culture = event_target:civwar_rebels
		city_level = event_target:rebellion_planet
		room = event_target:civwar_rebels.ruler
	}

	option = {
		name = civcom.4103.a
		ai_chance = { factor = 1 }
		# This needs to be done to get rid of the "Rebels of" tag on the galactic map.
		hidden_effect = {
			get_rid_rebels_of_originator = yes
		}
		event_target:civwar_rebels = {
			set_subject_of = {
				who = root
				subject_type = devstate
			}
		}
	}
}

##################
#   Civil Wars   #
##################

# Civil War - Governor - Without Vassalization Option
country_event = {
	id = civcom.5000
	title = civcom.4000.name
	location = event_target:civwar_rebels
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	desc = {
		text = civcom.5000.desc
		trigger = { NOT = { has_country_flag = size_civil_war } }
	}

	desc = {
		text = civcom.5040.one.desc
		trigger = {
			has_country_flag = size_civil_war
			NOT = { has_country_flag = traitor_got_multiple_sectors }
		}
	}

	desc = {
		text = civcom.5040.mult.desc
		trigger = {
			has_country_flag = size_civil_war
			has_country_flag = traitor_got_multiple_sectors
		}
	}

	picture_event_data = {
		portrait = event_target:civwar_rebels.ruler
		planet_background = event_target:civwar_rebels.capital_scope
		graphical_culture = event_target:civwar_rebels
		city_level = event_target:civwar_rebels.capital_scope
		room = event_target:civwar_rebels.ruler
	}

	# Declare War on the rebels
	option = {
		name = civcom.4000.a
		trigger = {
			is_ai = no
		}
		hidden_effect = {
			event_target:civwar_originator = {
				add_opinion_modifier = {
					who = event_target:civwar_rebels
					modifier = opinion_civwar
				}
			}
			event_target:civwar_rebels = {
				add_opinion_modifier = {
					who = event_target:civwar_originator
					modifier = opinion_civwar_originator
				}
			}
			country_event = { id = civcom.5060 }
		}
	}

	# Let them be fully independent.
	option = {
		name = civcom.4000.b
		trigger = {
			is_ai = no
		}
		hidden_effect = {
			event_target:civwar_originator = {
				add_opinion_modifier = {
					who = event_target:civwar_rebels
					modifier = opinion_civwar_peace
				}
			}
			country_event = { id = civcom.5002 }
		}
	}

	# AI Option
	option = {
		name = civcom.random
		trigger = {
			is_ai = yes
			NOT = { has_valid_civic = civic_fanatic_purifiers }
		}
		ai_chance = { factor = 1 }
		random_list = {
			90 = {
				hidden_effect = {
					event_target:civwar_originator = {
						add_opinion_modifier = {
							who = event_target:civwar_rebels
							modifier = opinion_civwar
						}
					}
					event_target:civwar_rebels = {
						add_opinion_modifier = {
							who = event_target:civwar_originator
							modifier = opinion_civwar_originator
						}
					}
					country_event = { id = civcom.5060 }
				}
			}
			10 = {
				hidden_effect = {
					event_target:civwar_originator = {
						add_opinion_modifier = {
							who = event_target:civwar_rebels
							modifier = opinion_civwar_peace
						}
					}
					country_event = { id = civcom.5002 }
				}
			}
		}
	}

	# Fanatic Purifier AI Option
	option = {
		name = civcom.random
		trigger = {
			is_ai = yes
			has_valid_civic = civic_fanatic_purifiers
		}
		ai_chance = { factor = 1 }
		hidden_effect = {
			event_target:civwar_originator = {
				add_opinion_modifier = {
					who = event_target:civwar_rebels
					modifier = opinion_civwar
				}
			}
			event_target:civwar_rebels = {
				add_opinion_modifier = {
					who = event_target:civwar_originator
					modifier = opinion_civwar_originator
				}
			}
			country_event = { id = civcom.5060 }
		}
	}
}

# Civil War - Governor - With Vassalization Option
country_event = {
	id = civcom.5100
	title = civcom.4000.name
	desc = civcom.5100.desc
	location = event_target:civwar_rebels.capital_scope
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	picture_event_data = {
		portrait = event_target:civwar_rebels.ruler
		planet_background = event_target:civwar_rebels.capital_scope
		graphical_culture = event_target:civwar_rebels
		city_level = event_target:civwar_rebels.capital_scope
		room = event_target:civwar_rebels.ruler
	}

	# Declare War on the rebels
	option = {
		name = civcom.4100.a
		trigger = {
			is_ai = no
		}
		hidden_effect = { country_event = { id = civcom.5060 } }
	}

	# Accept their offer of vassalization
	option = {
		name = civcom.4100.b
		trigger = {
			is_ai = no
		}
		custom_tooltip = civcom.4100.b.tooltip
		hidden_effect = { country_event = { id = civcom.5103 } }
	}

	# Let them be fully independent
	option = {
		name = civcom.4000.b
		trigger = {
			is_ai = no
		}
		hidden_effect = { country_event = { id = civcom.5102 } }
	}

	# AI Option
	option = {
		name = civcom.random
		trigger = {
			is_ai = yes
		}
		ai_chance = { factor = 1 }
		random_list = {
			85 = {
				hidden_effect = { country_event = { id = civcom.5060 } }
			}
			10 = {
				hidden_effect = { country_event = { id = civcom.5103 } }
			}
			5 = {
				hidden_effect = { country_event = { id = civcom.5102 } }
			}
		}
	}

	# Fanatic Purifier AI Option
	option = {
		name = civcom.random
		trigger = {
			is_ai = yes
			has_valid_civic = civic_fanatic_purifiers
		}
		ai_chance = { factor = 1 }
		hidden_effect = { country_event = { id = civcom.5060 } }
	}
}

# Civil War - Scientist - Without Vassalization Option
country_event = {
	id = civcom.5010
	title = civcom.4000.name
	location = event_target:civwar_rebels
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	desc = {
		text = civcom.5010.desc
		trigger = { NOT = { has_country_flag = size_civil_war } }
	}

	desc = {
		text = civcom.5010.size.desc
		trigger = {
			has_country_flag = size_civil_war
		}
	}

	picture_event_data = {
		portrait = event_target:civwar_rebels.ruler
		planet_background = event_target:civwar_rebels.capital_scope
		graphical_culture = event_target:civwar_rebels
		city_level = event_target:civwar_rebels.capital_scope
		room = event_target:civwar_rebels.ruler
	}

	# Declare War on the rebels
	option = {
		name = civcom.4000.a
		trigger = {
			is_ai = no
		}
		hidden_effect = {
			event_target:civwar_originator = {
				add_opinion_modifier = {
					who = event_target:civwar_rebels
					modifier = opinion_civwar
				}
			}
			event_target:civwar_rebels = {
				add_opinion_modifier = {
					who = event_target:civwar_originator
					modifier = opinion_civwar_originator
				}
			}
			country_event = { id = civcom.5060 }
		}
	}

	# Let them be fully independent.
	option = {
		name = civcom.4000.b
		trigger = {
			is_ai = no
		}
		hidden_effect = {
			event_target:civwar_originator = {
				add_opinion_modifier = {
					who = event_target:civwar_rebels
					modifier = opinion_civwar_peace
				}
			}
			country_event = { id = civcom.5002 }
		}
	}

	# AI Option
	option = {
		name = civcom.random
		trigger = {
			is_ai = yes
			NOT = { has_valid_civic = civic_fanatic_purifiers }
		}
		ai_chance = { factor = 1 }
		random_list = {
			90 = {
				hidden_effect = {
					event_target:civwar_originator = {
						add_opinion_modifier = {
							who = event_target:civwar_rebels
							modifier = opinion_civwar
						}
					}
					event_target:civwar_rebels = {
						add_opinion_modifier = {
							who = event_target:civwar_originator
							modifier = opinion_civwar_originator
						}
					}
					country_event = { id = civcom.5060 }
				}
			}
			10 = {
				hidden_effect = {
					event_target:civwar_originator = {
						add_opinion_modifier = {
							who = event_target:civwar_rebels
							modifier = opinion_civwar_peace
						}
					}
					country_event = { id = civcom.5002 }
				}
			}
		}
	}

	# Fanatic Purifier AI Option
	option = {
		name = civcom.random
		trigger = {
			is_ai = yes
			has_valid_civic = civic_fanatic_purifiers
		}
		ai_chance = { factor = 1 }
		hidden_effect = {
			event_target:civwar_originator = {
				add_opinion_modifier = {
					who = event_target:civwar_rebels
					modifier = opinion_civwar
				}
			}
			event_target:civwar_rebels = {
				add_opinion_modifier = {
					who = event_target:civwar_originator
					modifier = opinion_civwar_originator
				}
			}
			country_event = { id = civcom.5060 }
		}
	}
}

# Civil War - Scientist - With Vassalization Option
country_event = {
	id = civcom.5110
	title = civcom.4000.name
	desc = civcom.5110.desc
	location = event_target:civwar_rebels.capital_scope
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	picture_event_data = {
		portrait = event_target:civwar_rebels.ruler
		planet_background = event_target:civwar_rebels.capital_scope
		graphical_culture = event_target:civwar_rebels
		city_level = event_target:civwar_rebels.capital_scope
		room = event_target:civwar_rebels.ruler
	}

	# Declare War on the rebels
	option = {
		name = civcom.4100.a
		trigger = {
			is_ai = no
		}
		hidden_effect = { country_event = { id = civcom.5060 } }
	}

	# Accept their offer of vassalization
	option = {
		name = civcom.4100.b
		trigger = {
			is_ai = no
		}
		custom_tooltip = civcom.4100.b.tooltip
		hidden_effect = { country_event = { id = civcom.5103 } }
	}

	# Let them be fully independent
	option = {
		name = civcom.4000.b
		trigger = {
			is_ai = no
		}
		hidden_effect = { country_event = { id = civcom.5102 } }
	}

	# AI Option
	option = {
		name = civcom.random
		trigger = {
			is_ai = yes
		}
		ai_chance = { factor = 1 }
		random_list = {
			85 = {
				hidden_effect = { country_event = { id = civcom.5060 } }
			}
			10 = {
				hidden_effect = { country_event = { id = civcom.5103 } }
			}
			5 = {
				hidden_effect = { country_event = { id = civcom.5102 } }
			}
		}
	}

	# Fanatic Purifier AI Option
	option = {
		name = civcom.random
		trigger = {
			is_ai = yes
			has_valid_civic = civic_fanatic_purifiers
		}
		ai_chance = { factor = 1 }
		hidden_effect = { country_event = { id = civcom.5060 } }
	}	
}

# Civil War - General - Without Vassalization Option
country_event = {
	id = civcom.5020
	title = civcom.4000.name
	location = event_target:civwar_rebels
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	desc = {
		text = civcom.5020.desc
		trigger = { NOT = { has_country_flag = size_civil_war } }
	}

	desc = {
		text = civcom.5020.size.desc
		trigger = {
			has_country_flag = size_civil_war
		}
	}

	picture_event_data = {
		portrait = event_target:civwar_rebels.ruler
		planet_background = event_target:civwar_rebels.capital_scope
		graphical_culture = event_target:civwar_rebels
		city_level = event_target:civwar_rebels.capital_scope
		room = event_target:civwar_rebels.ruler
	}

	# Declare War on the rebels
	option = {
		name = civcom.4000.a
		trigger = {
			is_ai = no
		}
		hidden_effect = {
			event_target:civwar_originator = {
				add_opinion_modifier = {
					who = event_target:civwar_rebels
					modifier = opinion_civwar
				}
			}
			event_target:civwar_rebels = {
				add_opinion_modifier = {
					who = event_target:civwar_originator
					modifier = opinion_civwar_originator
				}
			}
			country_event = { id = civcom.5060 }
		}
	}

	# Let them be fully independent.
	option = {
		name = civcom.4000.b
		trigger = {
			is_ai = no
		}
		hidden_effect = {
			event_target:civwar_originator = {
				add_opinion_modifier = {
					who = event_target:civwar_rebels
					modifier = opinion_civwar_peace
				}
			}
			country_event = { id = civcom.5002 }
		}
	}

	# AI Option
	option = {
		name = civcom.random
		trigger = {
			is_ai = yes
			NOT = { has_valid_civic = civic_fanatic_purifiers }
		}
		ai_chance = { factor = 1 }
		random_list = {
			90 = {
				hidden_effect = {
					event_target:civwar_originator = {
						add_opinion_modifier = {
							who = event_target:civwar_rebels
							modifier = opinion_civwar
						}
					}
					event_target:civwar_rebels = {
						add_opinion_modifier = {
							who = event_target:civwar_originator
							modifier = opinion_civwar_originator
						}
					}
					country_event = { id = civcom.5060 }
				}
			}
			10 = {
				hidden_effect = {
					event_target:civwar_originator = {
						add_opinion_modifier = {
							who = event_target:civwar_rebels
							modifier = opinion_civwar_peace
						}
					}
					country_event = { id = civcom.5002 }
				}
			}
		}
	}

	# Fanatic Purifier AI Option
	option = {
		name = civcom.random
		trigger = {
			is_ai = yes
			has_valid_civic = civic_fanatic_purifiers
		}
		ai_chance = { factor = 1 }
		hidden_effect = {
			event_target:civwar_originator = {
				add_opinion_modifier = {
					who = event_target:civwar_rebels
					modifier = opinion_civwar
				}
			}
			event_target:civwar_rebels = {
				add_opinion_modifier = {
					who = event_target:civwar_originator
					modifier = opinion_civwar_originator
				}
			}
			country_event = { id = civcom.5060 }
		}
	}
}

# Civil War - General - With Vassalization Option
country_event = {
	id = civcom.5120
	title = civcom.4000.name
	desc = civcom.5120.desc
	location = event_target:civwar_rebels.capital_scope
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	picture_event_data = {
		portrait = event_target:civwar_rebels.ruler
		planet_background = event_target:civwar_rebels.capital_scope
		graphical_culture = event_target:civwar_rebels
		city_level = event_target:civwar_rebels.capital_scope
		room = event_target:civwar_rebels.ruler
	}

	# Declare War on the rebels
	option = {
		name = civcom.4100.a
		trigger = {
			is_ai = no
		}
		hidden_effect = { country_event = { id = civcom.5060 } }
	}

	# Accept their offer of vassalization
	option = {
		name = civcom.4100.b
		trigger = {
			is_ai = no
		}
		custom_tooltip = civcom.4100.b.tooltip
		hidden_effect = { country_event = { id = civcom.5103 } }
	}

	# Let them be fully independent
	option = {
		name = civcom.4000.b
		trigger = {
			is_ai = no
		}
		hidden_effect = { country_event = { id = civcom.5102 } }
	}

	# AI Option
	option = {
		name = civcom.random
		trigger = {
			is_ai = yes
		}
		ai_chance = { factor = 1 }
		random_list = {
			85 = {
				hidden_effect = { country_event = { id = civcom.5060 } }
			}
			10 = {
				hidden_effect = { country_event = { id = civcom.5103 } }
			}
			5 = {
				hidden_effect = { country_event = { id = civcom.5102 } }
			}
		}
	}

	# Fanatic Purifier AI Option
	option = {
		name = civcom.random
		trigger = {
			is_ai = yes
			has_valid_civic = civic_fanatic_purifiers
		}
		ai_chance = { factor = 1 }
		hidden_effect = { country_event = { id = civcom.5060 } }
	}	
}

# Civil War - Admiral - Without Vassalization Option, No Planets
country_event = {
	id = civcom.5030
	title = civcom.4000.name
	location = event_target:civwar_rebels
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	desc = {
		text = civcom.5030.desc
		trigger = {
			event_target:civwar_rebels = {
				NOR = {
					num_owned_planets > 0
					has_country_flag = admiral_has_sector
				}
			}
		}
	}

	desc = {
		text = civcom.5030.planet.desc
		trigger = {
			event_target:civwar_rebels = {
				num_owned_planets > 0
				NOT = { has_country_flag = admiral_has_sector }
			}
		}
	}

	desc = {
		text = civcom.5030.sector.desc
		trigger = {
			event_target:civwar_rebels = {
				has_country_flag = admiral_has_sector
			}
		}
	}

	picture_event_data = {
		portrait = event_target:civwar_rebels.ruler
		planet_background = pc_asteroid
		graphical_culture = event_target:civwar_rebels
		city_level = event_target:civwar_rebels.capital_scope
		room = event_target:civwar_rebels.ruler
	}

	# Declare War on the rebels
	option = {
		name = civcom.5030.a
		trigger = {
			is_ai = no
		}
		hidden_effect = {
			event_target:civwar_originator = {
				add_opinion_modifier = {
					who = event_target:civwar_rebels
					modifier = opinion_civwar
				}
			}
			event_target:civwar_rebels = {
				add_opinion_modifier = {
					who = event_target:civwar_originator
					modifier = opinion_civwar_originator
				}
			}
			if = {
				limit = {
					event_target:civwar_rebels = {
						num_owned_planets > 0
					}
				}
				country_event = { id = civcom.5060 }
			}
			else = {
				country_event = { id = civcom.5062 }
			}
		}
	}

	# Let them be fully independent.
	option = {
		name = civcom.4000.b
		trigger = {
			is_ai = no
		}
		hidden_effect = {
			event_target:civwar_originator = {
				add_opinion_modifier = {
					who = event_target:civwar_rebels
					modifier = opinion_civwar_peace
				}
			}
			country_event = { id = civcom.5002 }
		}
	}

	# AI Option
	option = {
		name = civcom.random
		trigger = {
			is_ai = yes
			NOT = { has_valid_civic = civic_fanatic_purifiers }
		}
		ai_chance = { factor = 1 }
		random_list = {
			90 = {
				hidden_effect = {
					event_target:civwar_originator = {
						add_opinion_modifier = {
							who = event_target:civwar_rebels
							modifier = opinion_civwar
						}
					}
					event_target:civwar_rebels = {
						add_opinion_modifier = {
							who = event_target:civwar_originator
							modifier = opinion_civwar_originator
						}
					}
					if = {
						limit = {
							event_target:civwar_rebels = {
								num_owned_planets > 0
							}
						}
						country_event = { id = civcom.5060 }
					}
					else = {
						country_event = { id = civcom.5031 }
					}
				}
			}
			10 = {
				hidden_effect = {
					event_target:civwar_originator = {
						add_opinion_modifier = {
							who = event_target:civwar_rebels
							modifier = opinion_civwar_peace
						}
					}
					country_event = { id = civcom.5002 }
				}
			}
		}
	}

	# Fanatic Purifier AI Option
	option = {
		name = civcom.random
		trigger = {
			is_ai = yes
			has_valid_civic = civic_fanatic_purifiers
		}
		ai_chance = { factor = 1 }
		hidden_effect = {
			event_target:civwar_originator = {
				add_opinion_modifier = {
					who = event_target:civwar_rebels
					modifier = opinion_civwar
				}
			}
			event_target:civwar_rebels = {
				add_opinion_modifier = {
					who = event_target:civwar_originator
					modifier = opinion_civwar_originator
				}
			}
			if = {
				limit = {
					event_target:civwar_rebels = {
						num_owned_planets > 0
					}
				}
				country_event = { id = civcom.5060 }
			}
			else = {
				country_event = { id = civcom.5031 }
			}
		}
	}
}

# Civil War - Admiral - Without Vassalization Option, Planets
country_event = {
	id = civcom.5031
	title = civcom.4000.name
	location = event_target:civwar_rebels
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	desc = {
		text = civcom.5030.planet.desc
		trigger = {
			event_target:civwar_rebels = {
				num_owned_planets > 0
				NOT = { has_country_flag = admiral_has_sector }
			}
		}
	}

	desc = {
		text = civcom.5030.sector.desc
		trigger = {
			event_target:civwar_rebels = {
				has_country_flag = admiral_has_sector
			}
		}
	}

	picture_event_data = {
		portrait = event_target:civwar_rebels.ruler
		planet_background = event_target:civwar_rebels.capital_scope
		graphical_culture = event_target:civwar_rebels
		city_level = event_target:civwar_rebels.capital_scope
		room = event_target:civwar_rebels.ruler
	}

	# Declare War on the rebels
	option = {
		name = civcom.5030.a
		trigger = {
			is_ai = no
		}
		hidden_effect = {
			event_target:civwar_originator = {
				add_opinion_modifier = {
					who = event_target:civwar_rebels
					modifier = opinion_civwar
				}
			}
			event_target:civwar_rebels = {
				add_opinion_modifier = {
					who = event_target:civwar_originator
					modifier = opinion_civwar_originator
				}
			}
			if = {
				limit = {
					event_target:civwar_rebels = {
						num_owned_planets > 0
					}
				}
				country_event = { id = civcom.5060 }
			}
			else = {
				country_event = { id = civcom.5062 }
			}
		}
	}

	# Let them be fully independent.
	option = {
		name = civcom.4000.b
		trigger = {
			is_ai = no
		}
		hidden_effect = {
			event_target:civwar_originator = {
				add_opinion_modifier = {
					who = event_target:civwar_rebels
					modifier = opinion_civwar_peace
				}
			}
			country_event = { id = civcom.5002 }
		}
	}

	# AI Option
	option = {
		name = civcom.random
		trigger = {
			is_ai = yes
			NOT = { has_valid_civic = civic_fanatic_purifiers }
		}
		ai_chance = { factor = 1 }
		random_list = {
			90 = {
				hidden_effect = {
					event_target:civwar_originator = {
						add_opinion_modifier = {
							who = event_target:civwar_rebels
							modifier = opinion_civwar
						}
					}
					event_target:civwar_rebels = {
						add_opinion_modifier = {
							who = event_target:civwar_originator
							modifier = opinion_civwar_originator
						}
					}
					if = {
						limit = {
							event_target:civwar_rebels = {
								num_owned_planets > 0
							}
						}
						country_event = { id = civcom.5060 }
					}
					else = {
						country_event = { id = civcom.5031 }
					}
				}
			}
			10 = {
				hidden_effect = {
					event_target:civwar_originator = {
						add_opinion_modifier = {
							who = event_target:civwar_rebels
							modifier = opinion_civwar_peace
						}
					}
					country_event = { id = civcom.5002 }
				}
			}
		}
	}

	# Fanatic Purifier AI Option
	option = {
		name = civcom.random
		trigger = {
			is_ai = yes
			has_valid_civic = civic_fanatic_purifiers
		}
		ai_chance = { factor = 1 }
		hidden_effect = {
			event_target:civwar_originator = {
				add_opinion_modifier = {
					who = event_target:civwar_rebels
					modifier = opinion_civwar
				}
			}
			event_target:civwar_rebels = {
				add_opinion_modifier = {
					who = event_target:civwar_originator
					modifier = opinion_civwar_originator
				}
			}
			if = {
				limit = {
					event_target:civwar_rebels = {
						num_owned_planets > 0
					}
				}
				country_event = { id = civcom.5060 }
			}
			else = {
				country_event = { id = civcom.5031 }
			}
		}
	}
}

# Civil War - Admiral - With Vassalization Option
country_event = {
	id = civcom.5130
	title = civcom.4000.name
	location = event_target:civwar_rebels
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	desc = {
		text = civcom.5130.desc
		trigger = {
			event_target:civwar_rebels = {
				NOT = { has_country_flag = admiral_skirmish }
			}
		}
	}

	desc = {
		text = civcom.5130.skirmish.desc
		trigger = {
			event_target:civwar_rebels = {
				has_country_flag = admiral_skirmish
			}
		}
	}

	picture_event_data = {
		portrait = event_target:civwar_rebels.ruler
		planet_background = event_target:civwar_rebels
		graphical_culture = event_target:civwar_rebels
		city_level = event_target:civwar_rebels.capital_scope
		room = event_target:civwar_rebels.ruler
	}

	# Declare War on the rebels
	option = {
		name = civcom.5030.a
		trigger = {
			is_ai = no
		}
		hidden_effect = {
			event_target:civwar_originator = {
				add_opinion_modifier = {
					who = event_target:civwar_rebels
					modifier = opinion_civwar
				}
			}
			event_target:civwar_rebels = {
				add_opinion_modifier = {
					who = event_target:civwar_originator
					modifier = opinion_civwar_originator
				}
			}
			if = {
				limit = {
					event_target:civwar_rebels = {
						num_owned_planets > 0
					}
				}
				country_event = { id = civcom.5060 }
			}
			else = {
				country_event = { id = civcom.5031 }
			}
		}
	}

	# Accept their offer of vassalization
	option = {
		name = civcom.4100.b
		trigger = {
			is_ai = no
		}
		custom_tooltip = civcom.4100.b.tooltip
		hidden_effect = { country_event = { id = civcom.5103 } }
	}

	# Let them be fully independent.
	option = {
		name = civcom.4000.b
		trigger = {
			is_ai = no
		}
		hidden_effect = {
			event_target:civwar_originator = {
				add_opinion_modifier = {
					who = event_target:civwar_rebels
					modifier = opinion_civwar_peace
				}
			}
			country_event = { id = civcom.5102 }
		}
	}

	# AI Option
	option = {
		name = civcom.random
		trigger = {
			is_ai = yes
			NOT = { has_valid_civic = civic_fanatic_purifiers }
		}
		ai_chance = { factor = 1 }
		random_list = {
			90 = {
				hidden_effect = {
					event_target:civwar_originator = {
						add_opinion_modifier = {
							who = event_target:civwar_rebels
							modifier = opinion_civwar
						}
					}
					event_target:civwar_rebels = {
						add_opinion_modifier = {
							who = event_target:civwar_originator
							modifier = opinion_civwar_originator
						}
					}
					if = {
						limit = {
							event_target:civwar_rebels = {
								num_owned_planets > 0
							}
						}
						country_event = { id = civcom.5060 }
					}
					else = {
						country_event = { id = civcom.5031 }
					}
				}
			}
			10 = {
				hidden_effect = {
					event_target:civwar_originator = {
						add_opinion_modifier = {
							who = event_target:civwar_rebels
							modifier = opinion_civwar_peace
						}
					}
					country_event = { id = civcom.5102 }
				}
			}
		}
	}

	# Fanatic Purifier AI Option
	option = {
		name = civcom.random
		trigger = {
			is_ai = yes
			has_valid_civic = civic_fanatic_purifiers
		}
		ai_chance = { factor = 1 }
		hidden_effect = {
			event_target:civwar_originator = {
				add_opinion_modifier = {
					who = event_target:civwar_rebels
					modifier = opinion_civwar
				}
			}
			event_target:civwar_rebels = {
				add_opinion_modifier = {
					who = event_target:civwar_originator
					modifier = opinion_civwar_originator
				}
			}
			if = {
				limit = {
					event_target:civwar_rebels = {
						num_owned_planets > 0
					}
				}
				country_event = { id = civcom.5060 }
			}
			else = {
				country_event = { id = civcom.5031 }
			}
		}
	}
}

# Civil War - Corrupt Governor - Without Vassalization Option
country_event = {
	id = civcom.5040
	title = civcom.4000.name
	location = event_target:civwar_rebels
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	desc = {
		text = civcom.5040.one.desc
		trigger = {
			NOT = { has_country_flag = traitor_got_multiple_sectors }
		}
	}

	desc = {
		text = civcom.5040.mult.desc
		trigger = {
			has_country_flag = traitor_got_multiple_sectors
		}
	}

	picture_event_data = {
		portrait = event_target:civwar_rebels.ruler
		planet_background = event_target:civwar_rebels.capital_scope
		graphical_culture = event_target:civwar_rebels
		city_level = event_target:civwar_rebels.capital_scope
		room = event_target:civwar_rebels.ruler
	}

	# Declare War on the rebels
	option = {
		name = civcom.4000.a
		trigger = {
			is_ai = no
		}
		trigger = {
			is_ai = no
		}
		hidden_effect = {
			event_target:civwar_originator = {
				add_opinion_modifier = {
					who = event_target:civwar_rebels
					modifier = opinion_civwar
				}
			}
			event_target:civwar_rebels = {
				add_opinion_modifier = {
					who = event_target:civwar_originator
					modifier = opinion_civwar_originator
				}
			}
			country_event = { id = civcom.5063 }
		}
	}

	# Let them be fully independent.
	option = {
		name = civcom.4000.b
		trigger = {
			is_ai = no
		}
		trigger = {
			is_ai = no
		}
		hidden_effect = {
			event_target:civwar_originator = {
				add_opinion_modifier = {
					who = event_target:civwar_rebels
					modifier = opinion_civwar_peace
				}
			}
			country_event = { id = civcom.5002 }
		}
	}

	# AI Option
	option = {
		name = civcom.random
		trigger = {
			is_ai = yes
			NOT = { has_valid_civic = civic_fanatic_purifiers }
		}
		ai_chance = { factor = 1 }
		random_list = {
			90 = {
				hidden_effect = {
					event_target:civwar_originator = {
						add_opinion_modifier = {
							who = event_target:civwar_rebels
							modifier = opinion_civwar
						}
					}
					event_target:civwar_rebels = {
						add_opinion_modifier = {
							who = event_target:civwar_originator
							modifier = opinion_civwar_originator
						}
					}
					country_event = { id = civcom.5063 }
				}
			}
			10 = {
				hidden_effect = {
					event_target:civwar_originator = {
						add_opinion_modifier = {
							who = event_target:civwar_rebels
							modifier = opinion_civwar_peace
						}
					}
					country_event = { id = civcom.5002 }
				}
			}
		}
	}

	# Fanatic Purifier AI Option
	option = {
		name = civcom.random
		trigger = {
			is_ai = yes
			has_valid_civic = civic_fanatic_purifiers
		}
		ai_chance = { factor = 1 }
		hidden_effect = {
			event_target:civwar_originator = {
				add_opinion_modifier = {
					who = event_target:civwar_rebels
					modifier = opinion_civwar
				}
			}
			event_target:civwar_rebels = {
				add_opinion_modifier = {
					who = event_target:civwar_originator
					modifier = opinion_civwar_originator
				}
			}
			country_event = { id = civcom.5063 }
		}
	}
}

# Civil War - Corrupt Governor - With Vassalization Option
country_event = {
	id = civcom.5140
	title = civcom.4000.name
	location = event_target:civwar_rebels
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	desc = {
		text = civcom.5040.one.desc
		trigger = {
			NOT = { has_country_flag = traitor_got_multiple_sectors }
		}
	}

	desc = {
		text = civcom.5040.mult.desc
		trigger = {
			has_country_flag = traitor_got_multiple_sectors
		}
	}

	picture_event_data = {
		portrait = event_target:civwar_rebels.ruler
		planet_background = event_target:civwar_rebels.capital_scope
		graphical_culture = event_target:civwar_rebels
		city_level = event_target:civwar_rebels.capital_scope
		room = event_target:civwar_rebels.ruler
	}

	# Declare War on the rebels
	option = {
		name = civcom.4100.a
		trigger = {
			is_ai = no
		}
		hidden_effect = { country_event = { id = civcom.5063 } }
	}

	# Accept their offer of vassalization
	option = {
		name = civcom.4100.b
		trigger = {
			is_ai = no
		}
		custom_tooltip = civcom.4100.b.tooltip
		hidden_effect = { country_event = { id = civcom.5143 } }
	}

	# Let them be fully independent
	option = {
		name = civcom.4000.b
		trigger = {
			is_ai = no
		}
		hidden_effect = { country_event = { id = civcom.5102 } }
	}

	# AI Option
	option = {
		name = civcom.random
		trigger = {
			is_ai = yes
		}
		ai_chance = { factor = 1 }
		random_list = {
			85 = {
				hidden_effect = { country_event = { id = civcom.5063 } }
			}
			10 = {
				hidden_effect = { country_event = { id = civcom.5143 } }
			}
			5 = {
				hidden_effect = { country_event = { id = civcom.5102 } }
			}
		}
	}

	# Fanatic Purifier AI Option
	option = {
		name = civcom.random
		trigger = {
			is_ai = yes
			has_valid_civic = civic_fanatic_purifiers
		}
		ai_chance = { factor = 1 }
		hidden_effect = { country_event = { id = civcom.5063 } }
	}
}

# Civil War - Disinherited Heir - Without Vassalization Option
country_event = {
	id = civcom.5050
	title = civcom.4000.name
	location = event_target:civwar_rebels
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	desc = {
		text = civcom.5050.one_norm.desc
		trigger = {
			has_country_flag = heir_one_sector
			NOT = { has_valid_civic = civic_adoptive_dynasties }
		}
	}

	desc = {
		text = civcom.5050.one_ad.desc
		trigger = {
			has_country_flag = heir_one_sector
			has_valid_civic = civic_adoptive_dynasties
		}
	}

	desc = {
		text = civcom.5050.multiple_norm.desc
		trigger = {
			has_country_flag = heir_multiple_sectors
			NOT = { has_valid_civic = civic_adoptive_dynasties }
		}
	}

	desc = {
		text = civcom.5050.multiple_ad.desc
		trigger = {
			has_country_flag = heir_multiple_sectors
			has_valid_civic = civic_adoptive_dynasties
		}
	}

	picture_event_data = {
		portrait = event_target:civwar_rebels.ruler
		planet_background = event_target:civwar_rebels.capital_scope
		graphical_culture = event_target:civwar_rebels
		city_level = event_target:civwar_rebels.capital_scope
		room = event_target:civwar_rebels.ruler
	}

	# Declare War on the rebels
	option = {
		name = civcom.4000.a
		trigger = {
			is_ai = no
		}
		hidden_effect = {
			event_target:civwar_originator = {
				add_opinion_modifier = {
					who = event_target:civwar_rebels
					modifier = opinion_civwar
				}
			}
			event_target:civwar_rebels = {
				add_opinion_modifier = {
					who = event_target:civwar_originator
					modifier = opinion_civwar_originator
				}
			}
			country_event = { id = civcom.5061 }
		}
	}

	# Let them be fully independent.
	option = {
		name = civcom.4000.b
		trigger = {
			is_ai = no
		}
		hidden_effect = {
			event_target:civwar_originator = {
				add_opinion_modifier = {
					who = event_target:civwar_rebels
					modifier = opinion_civwar_peace
				}
			}
			country_event = { id = civcom.5052 }
		}
	}

	# AI Option
	option = {
		name = civcom.random
		trigger = {
			is_ai = yes
			NOT = { has_valid_civic = civic_fanatic_purifiers }
		}
		ai_chance = { factor = 1 }
		random_list = {
			90 = {
				hidden_effect = {
					event_target:civwar_originator = {
						add_opinion_modifier = {
							who = event_target:civwar_rebels
							modifier = opinion_civwar
						}
					}
					event_target:civwar_rebels = {
						add_opinion_modifier = {
							who = event_target:civwar_originator
							modifier = opinion_civwar_originator
						}
					}
					country_event = { id = civcom.5060 }
				}
			}
			10 = {
				hidden_effect = {
					event_target:civwar_originator = {
						add_opinion_modifier = {
							who = event_target:civwar_rebels
							modifier = opinion_civwar_peace
						}
					}
					country_event = { id = civcom.5002 }
				}
			}
		}
	}
}

###############

# Civil War - Declared War
country_event = {
	id = civcom.5060
	title = civcom.4000.name
	desc = civcom.4001.desc
	location = event_target:civwar_rebels.capital_scope
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	picture_event_data = {
		portrait = event_target:civwar_rebels.ruler
		planet_background = event_target:civwar_rebels.capital_scope
		graphical_culture = event_target:civwar_rebels
		city_level = event_target:civwar_rebels.capital_scope
		room = event_target:civwar_rebels.ruler
	}

	option = {
		name = civcom.4001.a
		ai_chance = { factor = 1 }
		hidden_effect = { country_event = { id = civwar.5100 } }
	}

	after = {
		clear_global_event_target = civwar_party
	}
}

# Civil War - Declared War - Heir
country_event = {
	id = civcom.5061
	title = civcom.4000.name
	desc = civcom.5061.desc
	location = event_target:civwar_rebels.capital_scope
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	picture_event_data = {
		portrait = event_target:civwar_rebels.ruler
		planet_background = event_target:civwar_rebels.capital_scope
		graphical_culture = event_target:civwar_rebels
		city_level = event_target:civwar_rebels.capital_scope
		room = event_target:civwar_rebels.ruler
	}

	option = {
		name = civcom.4001.a
		ai_chance = { factor = 1 }
		hidden_effect = { country_event = { id = civheir.5100 } }
	}
}

# Civil War - Declared War - Admiral
country_event = {
	id = civcom.5062
	title = civcom.4000.name
	desc = civcom.5062.desc
	location = event_target:civwar_rebels.capital_scope
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	picture_event_data = {
		portrait = event_target:civwar_rebels.ruler
		planet_background = pc_asteroid
		graphical_culture = event_target:civwar_rebels
		city_level = event_target:civwar_rebels.capital_scope
		room = event_target:civwar_rebels.ruler
	}

	option = {
		name = civcom.4001.a
		ai_chance = { factor = 1 }
		hidden_effect = { country_event = { id = civwar.5101 } }
	}

	after = {
		clear_global_event_target = civwar_party
	}
}

# Civil War - Declared War - Corrupt Governor
country_event = {
	id = civcom.5063
	title = civcom.4000.name
	desc = civcom.5063.desc
	location = event_target:civwar_rebels.capital_scope
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	picture_event_data = {
		portrait = event_target:civwar_rebels.ruler
		planet_background = event_target:civwar_rebels.capital_scope
		graphical_culture = event_target:civwar_rebels
		city_level = event_target:civwar_rebels.capital_scope
		room = event_target:civwar_rebels.ruler
	}

	option = {
		name = civcom.4001.a
		ai_chance = { factor = 1 }
		hidden_effect = { country_event = { id = civwar.5100 } }
	}

	after = {
		clear_global_event_target = civwar_party
	}
}

###############

# Civil War - Granted Independence
country_event = {
	id = civcom.5002
	title = civcom.4000.name
	desc = civcom.4002.desc
	location = event_target:civwar_rebels.capital_scope
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	picture_event_data = {
		portrait = event_target:civwar_rebels.ruler
		planet_background = event_target:civwar_rebels.capital_scope
		graphical_culture = event_target:civwar_rebels
		city_level = event_target:civwar_rebels.capital_scope
		room = event_target:civwar_rebels.ruler
	}

	option = {
		name = civcom.4002.a
		ai_chance = { factor = 1 }
		hidden_effect = {
			event_target:civwar_rebels = {
				every_system_within_border = {
					limit = {
						NOT = { root = { has_claim = prev } }
					}
					add_claims = { who = root }
				}
			}
		}
	}

	after = {
		clear_global_event_target = civwar_party
	}
}

# Civil War - Granted Independence - Heir
country_event = {
	id = civcom.5052
	title = civcom.4000.name
	desc = civcom.5052.desc
	location = event_target:civwar_rebels.capital_scope
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	picture_event_data = {
		portrait = event_target:civwar_rebels.ruler
		planet_background = event_target:civwar_rebels.capital_scope
		graphical_culture = event_target:civwar_rebels
		city_level = event_target:civwar_rebels.capital_scope
		room = event_target:civwar_rebels.ruler
	}

	option = {
		name = civcom.5052.a
		ai_chance = { factor = 1 }
		hidden_effect = {
			event_target:civwar_rebels = {
				every_system_within_border = {
					limit = {
						NOT = { root = { has_claim = prev } }
					}
					add_claims = { who = root }
				}
			}
		}
	}

	after = {
		clear_global_event_target = civwar_party
	}
}

###############

# Civil War - Granted Independence (even though they offered vassalization)
country_event = {
	id = civcom.5102
	title = civcom.4000.name
	desc = civcom.5102.desc
	location = event_target:civwar_rebels
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	picture_event_data = {
		portrait = event_target:civwar_rebels.ruler
		planet_background = event_target:civwar_rebels.capital_scope
		graphical_culture = event_target:civwar_rebels
		city_level = event_target:civwar_rebels.capital_scope
		room = event_target:civwar_rebels.ruler
	}

	option = {
		name = civcom.4102.a
		ai_chance = { factor = 1 }
	}

	after = {
		clear_global_event_target = civwar_party
	}
}

# Civil War - Accepted Vassalization Offer
country_event = {
	id = civcom.5103
	title = civcom.4000.name
	desc = civcom.4103.desc
	location = event_target:civwar_rebels
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	picture_event_data = {
		portrait = event_target:civwar_rebels.ruler
		planet_background = event_target:civwar_rebels.capital_scope
		graphical_culture = event_target:civwar_rebels
		city_level = event_target:civwar_rebels.capital_scope
		room = event_target:civwar_rebels.ruler
	}

	option = {
		name = civcom.4103.a
		ai_chance = { factor = 1 }
		event_target:civwar_rebels = {
			set_subject_of = {
				who = root
				subject_type = devstate
			}
		}
	}

	after = {
		clear_global_event_target = civwar_party
	}
}

# Civil War - Accepted Vassalization Offer - Corrupt Governor
country_event = {
	id = civcom.5143
	title = civcom.4000.name
	desc = civcom.5103.desc
	location = event_target:civwar_rebels
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	picture_event_data = {
		portrait = event_target:civwar_rebels.ruler
		planet_background = event_target:civwar_rebels.capital_scope
		graphical_culture = event_target:civwar_rebels
		city_level = event_target:civwar_rebels.capital_scope
		room = event_target:civwar_rebels.ruler
	}

	option = {
		name = civcom.4103.a
		ai_chance = { factor = 1 }
		event_target:civwar_rebels = {
			set_subject_of = {
				who = root
				subject_type = devstate
			}
		}
	}

	after = {
		clear_global_event_target = civwar_party
	}
}

###############

# Civil War - Subject requests assistance in civil war - Governor / Scientist / General
country_event = {
	id = civcom.3000
	title = civcom.3000.name
	desc = civcom.3000.desc
	location = event_target:civwar_rebels.capital_scope
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	picture_event_data = {
		portrait = event_target:civwar_originator.ruler
		planet_background = event_target:civwar_rebels.capital_scope
		graphical_culture = event_target:civwar_originator
		city_level = event_target:civwar_rebels.capital_scope
		room = event_target:civwar_originator.ruler
	}

	# Lead subject in their war
	option = {
		name = civcom.3000.a
		custom_tooltip = civcom.3000.a.tooltip
		hidden_effect = {
			from = {
				set_country_flag = subject_for_systems
				set_country_flag = subject_for_traitor
			}
			set_country_flag = transfer_subject_systems
			country_event = { id = civwar.5300 }
		}
	}

	# Let subject wage their war alone
	option = {
		name = civcom.3000.b
		custom_tooltip = civcom.3000.b.tooltip
		hidden_effect = {
			from = {
				country_event = { id = civwar.5100 }
			}
		}
	}

	# Grant independence to the rebels
	option = {
		name = civcom.3000.c
		custom_tooltip = civcom.3000.c.tooltip
	}

	# AI Option
	option = {
		name = civcom.random
		trigger = {
			is_ai = yes
		}
		ai_chance = { factor = 1 }
		hidden_effect = {
			random_list = {
				85 = {
					country_event = { id = civwar.5300 }
					from = {
						set_country_flag = subject_for_systems
						set_country_flag = subject_for_traitor
					}
					set_country_flag = transfer_subject_systems
				}
				13 = {
					hidden_effect = {
						from = {
							country_event = { id = civwar.5100 }
						}
					}
				}
				2 = {
					# Let them be independent
				}
			}
		}
	}

	after = {
		clear_global_event_target = civwar_party
	}
}

# Civil War - Subject requests assitance in civil war - Admiral
country_event = {
	id = civcom.3001
	title = civcom.3000.name
	desc = civcom.3001.desc
	location = event_target:civwar_rebels.capital_scope
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	picture_event_data = {
		portrait = event_target:civwar_originator.ruler
		planet_background = event_target:civwar_rebels.capital_scope
		graphical_culture = event_target:civwar_originator
		city_level = event_target:civwar_rebels.capital_scope
		room = event_target:civwar_originator.ruler
	}

	# Lead subject in their war
	option = {
		name = civcom.3000.a
		custom_tooltip = civcom.3000.a.tooltip
		hidden_effect = {
			country_event = { id = civwar.5101 }
		}
	}

	# Let subject wage their war alone
	option = {
		name = civcom.3000.b
		custom_tooltip = civcom.3000.b.tooltip
		hidden_effect = {
			from = {
				country_event = { id = civwar.5101 }
			}
		}
	}

	# AI Option
	option = {
		name = civcom.random
		trigger = {
			is_ai = yes
		}
		ai_chance = { factor = 1 }
		hidden_effect = {
			random_list = {
				85 = {
					country_event = { id = civwar.5101 }
					from = {
						set_country_flag = subject_for_systems
						set_country_flag = subject_for_traitor
					}
					set_country_flag = transfer_subject_systems
				}
				13 = {
					hidden_effect = {
						from = {
							country_event = { id = civwar.5101 }
						}
					}
				}
				2 = {
					# Let them be independent
				}
			}
		}
	}

	after = {
		clear_global_event_target = civwar_party
	}
}

##########################
#  Coup and Heir Events  #
##########################

# 1 Sector Rebels - Successor State
country_event = {
	id = civcom.6000
	title = civcom.6000.name
	location = event_target:disputed_heir_country_1
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	desc = {
		text = civcom.6000.heritage.desc
		trigger = {
			has_country_flag = disputed_heritage_war
		}
	}

	desc = {
		text = civcom.6000.ascension.desc
		trigger = {
			NOT = { has_country_flag = disputed_heritage_war }
		}
	}

	picture_event_data = {
		portrait = event_target:coup_secretary
		planet_background = root.owner
		graphical_culture = root.owner
		city_level = root.owner
		room = root.owner
	}

	# I am the rightful emperor!
	option = {
		name = civcom.6000.a
		ai_chance = { factor = 1 }
	}
}

# 1 Sector Rebels - Independent Kingdom
country_event = {
	id = civcom.6010
	title = civcom.6010.name
	location = event_target:disputed_heir_country_1
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	desc = {
		text = civcom.6010.heir.desc
		trigger = { ruler = { has_trait = trait_disputed_heritage } }
	}
	desc = {
		text = civcom.6010.ruler.desc
		trigger = { ruler = { NOT = { has_trait = trait_disputed_heritage } } }
	}

	picture_event_data = {
		portrait = event_target:coup_secretary
		planet_background = root.owner
		graphical_culture = root.owner
		city_level = root.owner
		room = root.owner
	}


	# Declare war
	option = {
		name = civcom.6010.a
		trigger = {
			is_ai = no
		}
		hidden_effect = {
			declare_war = {
				target = event_target:disputed_heir_country_1
				name = "NAME_fealty_war"
				attacker_war_goal = "wg_coup_independent"
			}
		}
	}

	# Let them go
	option = {
		name = civcom.6010.b
		trigger = {
			is_ai = no
		}
	}

	# AI Option
	option = {
		name = civcom.random
		trigger = {
			is_ai = yes
		}
		ai_chance = { factor = 1 }
		random_list = {
			95 = {
				hidden_effect = {
					declare_war = {
						target = event_target:disputed_heir_country_1
						name = "NAME_fealty_war"
						attacker_war_goal = "wg_coup_independent"
					}
				}
			}
			5 = {
				# They let them go.
			}
		}
	}
}

# Multiple Sectors Rebel - 1 Successor State
country_event = {
	id = civcom.6020
	title = civcom.6020.name
	location = event_target:civwar_rebels
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	desc = {
		text = civcom.6020.heir.desc
		trigger = { ruler = { has_trait = trait_disputed_heritage } }
	}

	desc = {
		text = civcom.6020.ruler.desc
		trigger = { ruler = { NOT = { has_trait = trait_disputed_heritage } } }
	}

	picture_event_data = {
		portrait = event_target:coup_secretary
		planet_background = root.owner
		graphical_culture = root.owner
		city_level = root.owner
		room = root.owner
	}


	# That's all for now	
	option = {
		name = civcom.6020.a
		trigger = {
			is_ai = no
		}
	}

	# Declare War on:
	option = {
		name = civcom.6000.war.list
		trigger = { is_ai = no }
		is_dialog_only = yes
	}

	# Declare war on disputed vassal 
	option = {
		name = civcom.6000.disputed_heir_country_1
		trigger = {
			is_ai = no
		}
		trigger = {
			check_variable = { which = total_rebel_countries value >= 1 }
			event_target:disputed_heir_country_1 = {
				has_origin = origin_coup_independent
				NOT = { is_at_war_with = root }
			}
		}
		hidden_effect = {
			declare_war = {
				target = event_target:disputed_heir_country_1
				name = "NAME_fealty_war"
				attacker_war_goal = "wg_coup_independent"
			}
			country_event = { id = civcom.6020 }
		}
	}

	# Declare war on disputed vassal
	option = {
		name = civcom.6000.disputed_heir_country_2
		trigger = {
			is_ai = no
		}
		trigger = {
			check_variable = { which = total_rebel_countries value >= 2 }
			event_target:disputed_heir_country_2 = {
				has_origin = origin_coup_independent
				NOT = { is_at_war_with = root }
			}
		}
		hidden_effect = {
			declare_war = {
				target = event_target:disputed_heir_country_2
				name = "NAME_fealty_war"
				attacker_war_goal = "wg_coup_independent"
			}
			country_event = { id = civcom.6020 }
		}
	}

	# Declare war on disputed vassal
	option = {
		name = civcom.6000.disputed_heir_country_3
		trigger = {
			is_ai = no
		}
		trigger = {
			check_variable = { which = total_rebel_countries value >= 3 }
			event_target:disputed_heir_country_3 = {
				has_origin = origin_coup_independent
				NOT = { is_at_war_with = root }
			}
		}
		hidden_effect = {
			declare_war = {
				target = event_target:disputed_heir_country_3
				name = "NAME_fealty_war"
				attacker_war_goal = "wg_coup_independent"
			}
			country_event = { id = civcom.6020 }
		}
	}

	# Declare war on disputed vassal
	option = {
		name = civcom.6000.disputed_heir_country_4
		trigger = {
			is_ai = no
		}
		trigger = {
			check_variable = { which = total_rebel_countries value >= 4 }
			event_target:disputed_heir_country_4 = {
				has_origin = origin_coup_independent
				NOT = { is_at_war_with = root }
			}
		}
		hidden_effect = {
			declare_war = {
				target = event_target:disputed_heir_country_4
				name = "NAME_fealty_war"
				attacker_war_goal = "wg_coup_independent"
			}
			country_event = { id = civcom.6020 }
		}
	}

	# Declare war on disputed vassal
	option = {
		name = civcom.6000.disputed_heir_country_5
		trigger = {
			is_ai = no
		}
		trigger = {
			check_variable = { which = total_rebel_countries value >= 5 }
			event_target:disputed_heir_country_5 = {
				has_origin = origin_coup_independent
				NOT = { is_at_war_with = root }
			}
		}
		hidden_effect = {
			declare_war = {
				target = event_target:disputed_heir_country_5
				name = "NAME_fealty_war"
				attacker_war_goal = "wg_coup_independent"
			}
			country_event = { id = civcom.6020 }
		}
	}

	# Declare war on disputed vassal
	option = {
		name = civcom.6000.disputed_heir_country_6
		trigger = {
			is_ai = no
		}
		trigger = {
			check_variable = { which = total_rebel_countries value >= 6 }
			event_target:disputed_heir_country_6 = {
				has_origin = origin_coup_independent
				NOT = { is_at_war_with = root }
			}
		}
		hidden_effect = {
			declare_war = {
				target = event_target:disputed_heir_country_6
				name = "NAME_fealty_war"
				attacker_war_goal = "wg_coup_independent"
			}
			country_event = { id = civcom.6020 }
		}
	}

	# Declare war on disputed vassal
	option = {
		name = civcom.6000.disputed_heir_country_7
		trigger = {
			is_ai = no
		}
		trigger = {
			check_variable = { which = total_rebel_countries value >= 7 }
			event_target:disputed_heir_country_7 = {
				has_origin = origin_coup_independent
				NOT = { is_at_war_with = root }
			}
		}
		hidden_effect = {
			declare_war = {
				target = event_target:disputed_heir_country_7
				name = "NAME_fealty_war"
				attacker_war_goal = "wg_coup_independent"
			}
			country_event = { id = civcom.6020 }
		}
	}

	# Declare war on disputed vassal
	option = {
		name = civcom.6000.disputed_heir_country_8
		trigger = {
			is_ai = no
		}
		trigger = {
			check_variable = { which = total_rebel_countries value >= 8 }
			event_target:disputed_heir_country_8 = {
				has_origin = origin_coup_independent
				NOT = { is_at_war_with = root }
			}
		}
		hidden_effect = {
			declare_war = {
				target = event_target:disputed_heir_country_8
				name = "NAME_fealty_war"
				attacker_war_goal = "wg_coup_independent"
			}
			country_event = { id = civcom.6020 }
		}
	}

	# Declare war on disputed vassal
	option = {
		name = civcom.6000.disputed_heir_country_9
		trigger = {
			is_ai = no
		}
		trigger = {
			check_variable = { which = total_rebel_countries value >= 9 }
			event_target:disputed_heir_country_9 = {
				has_origin = origin_coup_independent
				NOT = { is_at_war_with = root }
			}
		}
		hidden_effect = {
			declare_war = {
				target = event_target:disputed_heir_country_9
				name = "NAME_fealty_war"
				attacker_war_goal = "wg_coup_independent"
			}
			country_event = { id = civcom.6020 }
		}
	}

	# Declare war on disputed vassal
	option = {
		name = civcom.6000.disputed_heir_country_10
		trigger = {
			is_ai = no
		}
		trigger = {
			check_variable = { which = total_rebel_countries value >= 10 }
			event_target:disputed_heir_country_10 = {
				has_origin = origin_coup_independent
				NOT = { is_at_war_with = root }
			}
		}
		hidden_effect = {
			declare_war = {
				target = event_target:disputed_heir_country_10
				name = "NAME_fealty_war"
				attacker_war_goal = "wg_coup_independent"
			}
			country_event = { id = civcom.6020 }
		}
	}

	# AI Option
	# Not yet optimized
	option = {
		name = civcom.random
		trigger = {
			is_ai = yes
		}
		ai_chance = { factor = 1 }
		random_list = {
			65 = {
				hidden_effect = {
					declare_war = {
						target = event_target:disputed_heir_country_1
						name = "NAME_fealty_war"
						attacker_war_goal = "wg_coup_independent"
					}
					declare_war = {
						target = event_target:disputed_heir_country_2
						name = "NAME_fealty_war"
						attacker_war_goal = "wg_coup_independent"
					}
					declare_war = {
						target = event_target:disputed_heir_country_3
						name = "NAME_fealty_war"
						attacker_war_goal = "wg_coup_independent"
					}
					declare_war = {
						target = event_target:disputed_heir_country_4
						name = "NAME_fealty_war"
						attacker_war_goal = "wg_coup_independent"
					}
					declare_war = {
						target = event_target:disputed_heir_country_5
						name = "NAME_fealty_war"
						attacker_war_goal = "wg_coup_independent"
					}
					declare_war = {
						target = event_target:disputed_heir_country_6
						name = "NAME_fealty_war"
						attacker_war_goal = "wg_coup_independent"
					}
					declare_war = {
						target = event_target:disputed_heir_country_7
						name = "NAME_fealty_war"
						attacker_war_goal = "wg_coup_independent"
					}
					declare_war = {
						target = event_target:disputed_heir_country_8
						name = "NAME_fealty_war"
						attacker_war_goal = "wg_coup_independent"
					}
					declare_war = {
						target = event_target:disputed_heir_country_9
						name = "NAME_fealty_war"
						attacker_war_goal = "wg_coup_independent"
					}
				}
			}
			45 = {
				# They let them go
			}
		}
	}
}

# Multiple Sectors Rebel - Multiple Successor States - At Least 1 Independent Kingdom
country_event = {
	id = civcom.6030
	title = civcom.6030.name
	location = event_target:civwar_rebels
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	desc = {
		text = civcom.6030.heir.desc
		trigger = { ruler = { has_trait = trait_disputed_heritage } }
	}

	desc = {
		text = civcom.6030.ruler.desc
		trigger = { ruler = { NOT = { has_trait = trait_disputed_heritage } } }
	}

	picture_event_data = {
		portrait = event_target:coup_secretary
		planet_background = root.owner
		graphical_culture = root.owner
		city_level = root.owner
		room = root.owner
	}

	# That's all for now
	option = {
		name = civcom.6020.a
		trigger = {
			is_ai = no
		}
	}

	# Declare War on:
	option = {
		name = civcom.6000.war.list
		trigger = { is_ai = no }
		is_dialog_only = yes
	}

	# Declare war on disputed vassal
	option = {
		name = civcom.6000.disputed_heir_country_1
		trigger = {
			is_ai = no
		}
		trigger = {
			check_variable = { which = total_rebel_countries value >= 1 }
			event_target:disputed_heir_country_1 = {
				has_origin = origin_coup_independent
				NOT = { is_at_war_with = root }
			}
		}
		hidden_effect = {
			declare_war = {
				target = event_target:disputed_heir_country_1
				name = "NAME_fealty_war"
				attacker_war_goal = "wg_coup_independent"
			}
			country_event = { id = civcom.6030 }
		}
	}

	# Declare war on disputed vassal
	option = {
		name = civcom.6000.disputed_heir_country_2
		trigger = {
			is_ai = no
		}
		trigger = {
			check_variable = { which = total_rebel_countries value >= 2 }
			event_target:disputed_heir_country_2 = {
				has_origin = origin_coup_independent
				NOT = { is_at_war_with = root }
			}
		}
		hidden_effect = {
			declare_war = {
				target = event_target:disputed_heir_country_2
				name = "NAME_fealty_war"
				attacker_war_goal = "wg_coup_independent"
			}
			country_event = { id = civcom.6030 }
		}
	}

	# Declare war on disputed vassal
	option = {
		name = civcom.6000.disputed_heir_country_3
		trigger = {
			is_ai = no
		}
		trigger = {
			check_variable = { which = total_rebel_countries value >= 3 }
			event_target:disputed_heir_country_3 = {
				has_origin = origin_coup_independent
				NOT = { is_at_war_with = root }
			}
		}
		hidden_effect = {
			declare_war = {
				target = event_target:disputed_heir_country_3
				name = "NAME_fealty_war"
				attacker_war_goal = "wg_coup_independent"
			}
			country_event = { id = civcom.6030 }
		}
	}

	# Declare war on disputed vassal
	option = {
		name = civcom.6000.disputed_heir_country_4
		trigger = {
			is_ai = no
		}
		trigger = {
			check_variable = { which = total_rebel_countries value >= 4 }
			event_target:disputed_heir_country_4 = {
				has_origin = origin_coup_independent
				NOT = { is_at_war_with = root }
			}
		}
		hidden_effect = {
			declare_war = {
				target = event_target:disputed_heir_country_4
				name = "NAME_fealty_war"
				attacker_war_goal = "wg_coup_independent"
			}
			country_event = { id = civcom.6030 }
		}
	}

	# Declare war on disputed vassal
	option = {
		name = civcom.6000.disputed_heir_country_5
		trigger = {
			is_ai = no
		}
		trigger = {
			check_variable = { which = total_rebel_countries value >= 5 }
			event_target:disputed_heir_country_5 = {
				has_origin = origin_coup_independent
				NOT = { is_at_war_with = root }
			}
		}
		hidden_effect = {
			declare_war = {
				target = event_target:disputed_heir_country_5
				name = "NAME_fealty_war"
				attacker_war_goal = "wg_coup_independent"
			}
			country_event = { id = civcom.6030 }
		}
	}

	# Declare war on disputed vassal
	option = {
		name = civcom.6000.disputed_heir_country_6
		trigger = {
			is_ai = no
		}
		trigger = {
			check_variable = { which = total_rebel_countries value >= 6 }
			event_target:disputed_heir_country_6 = {
				has_origin = origin_coup_independent
				NOT = { is_at_war_with = root }
			}
		}
		hidden_effect = {
			declare_war = {
				target = event_target:disputed_heir_country_6
				name = "NAME_fealty_war"
				attacker_war_goal = "wg_coup_independent"
			}
			country_event = { id = civcom.6030 }
		}
	}

	# Declare war on disputed vassal
	option = {
		name = civcom.6000.disputed_heir_country_7
		trigger = {
			is_ai = no
		}
		trigger = {
			check_variable = { which = total_rebel_countries value >= 7 }
			event_target:disputed_heir_country_7 = {
				has_origin = origin_coup_independent
				NOT = { is_at_war_with = root }
			}
		}
		hidden_effect = {
			declare_war = {
				target = event_target:disputed_heir_country_7
				name = "NAME_fealty_war"
				attacker_war_goal = "wg_coup_independent"
			}
			country_event = { id = civcom.6030 }
		}
	}

	# Declare war on disputed vassal
	option = {
		name = civcom.6000.disputed_heir_country_8
		trigger = {
			is_ai = no
		}
		trigger = {
			check_variable = { which = total_rebel_countries value >= 8 }
			event_target:disputed_heir_country_8 = {
				has_origin = origin_coup_independent
				NOT = { is_at_war_with = root }
			}
		}
		hidden_effect = {
			declare_war = {
				target = event_target:disputed_heir_country_8
				name = "NAME_fealty_war"
				attacker_war_goal = "wg_coup_independent"
			}
			country_event = { id = civcom.6030 }
		}
	}

	# Declare war on disputed vassal
	option = {
		name = civcom.6000.disputed_heir_country_9
		trigger = {
			is_ai = no
		}
		trigger = {
			check_variable = { which = total_rebel_countries value >= 9 }
			event_target:disputed_heir_country_9 = {
				has_origin = origin_coup_independent
				NOT = { is_at_war_with = root }
			}
		}
		hidden_effect = {
			declare_war = {
				target = event_target:disputed_heir_country_9
				name = "NAME_fealty_war"
				attacker_war_goal = "wg_coup_independent"
			}
			country_event = { id = civcom.6030 }
		}
	}

	# Declare war on disputed vassal
	option = {
		name = civcom.6000.disputed_heir_country_10
		trigger = {
			is_ai = no
		}
		trigger = {
			check_variable = { which = total_rebel_countries value >= 10 }
			event_target:disputed_heir_country_10 = {
				has_origin = origin_coup_independent
				NOT = { is_at_war_with = root }
			}
		}
		hidden_effect = {
			declare_war = {
				target = event_target:disputed_heir_country_10
				name = "NAME_fealty_war"
				attacker_war_goal = "wg_coup_independent"
			}
			country_event = { id = civcom.6030 }
		}
	}

	# AI Option
	# Not yet optimized
	option = {
		name = civcom.random
		trigger = {
			is_ai = yes
		}
		ai_chance = { factor = 1 }
		random_list = {
			65 = {
				hidden_effect = {
					declare_war = {
						target = event_target:disputed_heir_country_1
						name = "NAME_fealty_war"
						attacker_war_goal = "wg_coup_independent"
					}
					declare_war = {
						target = event_target:disputed_heir_country_2
						name = "NAME_fealty_war"
						attacker_war_goal = "wg_coup_independent"
					}
					declare_war = {
						target = event_target:disputed_heir_country_3
						name = "NAME_fealty_war"
						attacker_war_goal = "wg_coup_independent"
					}
					declare_war = {
						target = event_target:disputed_heir_country_4
						name = "NAME_fealty_war"
						attacker_war_goal = "wg_coup_independent"
					}
					declare_war = {
						target = event_target:disputed_heir_country_5
						name = "NAME_fealty_war"
						attacker_war_goal = "wg_coup_independent"
					}
					declare_war = {
						target = event_target:disputed_heir_country_6
						name = "NAME_fealty_war"
						attacker_war_goal = "wg_coup_independent"
					}
					declare_war = {
						target = event_target:disputed_heir_country_7
						name = "NAME_fealty_war"
						attacker_war_goal = "wg_coup_independent"
					}
					declare_war = {
						target = event_target:disputed_heir_country_8
						name = "NAME_fealty_war"
						attacker_war_goal = "wg_coup_independent"
					}
					declare_war = {
						target = event_target:disputed_heir_country_9
						name = "NAME_fealty_war"
						attacker_war_goal = "wg_coup_independent"
					}
				}
			}
			45 = {
				# They let them go
			}
		}
	}
}

# Multiple Sectors Rebel - All Successor States
country_event = {
	id = civcom.6040
	title = civcom.6040.name
	location = event_target:civwar_rebels
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	desc = {
		text = civcom.6040.heir.desc
		trigger = { ruler = { has_trait = trait_disputed_heritage } }
	}

	desc = {
		text = civcom.6040.ruler.desc
		trigger = { ruler = { NOT = { has_trait = trait_disputed_heritage } } }
	}

	picture_event_data = {
		portrait = event_target:coup_secretary
		planet_background = root.owner
		graphical_culture = root.owner
		city_level = root.owner
		room = root.owner
	}

	# I am the rightful emperor!
	option = {
		name = civcom.6040.a
		ai_chance = { factor = 1 }
	}
}

# Multiple Sectors Rebel - All Independent Kingdoms
country_event = {
	id = civcom.6050
	title = civcom.6050.name
	location = event_target:civwar_rebels
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	desc = {
		text = civcom.6050.heir.desc
		trigger = { ruler = { has_trait = trait_disputed_heritage } }
	}

	desc = {
		text = civcom.6050.ruler.desc
		trigger = { ruler = { NOT = { has_trait = trait_disputed_heritage } } }
	}

	picture_event_data = {
		portrait = event_target:coup_secretary
		planet_background = root.owner
		graphical_culture = root.owner
		city_level = root.owner
		room = root.owner
	}

	# That's all for now
	option = {
		name = civcom.6020.a
		trigger = {
			is_ai = no
		}
	}

	# Declare War on:
	option = {
		name = civcom.6000.war.list
		trigger = { is_ai = no }
		is_dialog_only = yes
	}

	# Declare war on disputed vassal
	option = {
		name = civcom.6000.disputed_heir_country_1
		trigger = {
			is_ai = no
		}
		trigger = {
			check_variable = { which = total_rebel_countries value >= 1 }
			event_target:disputed_heir_country_1 = {
				has_origin = origin_coup_independent
				NOT = { is_at_war_with = root }
			}
		}
		hidden_effect = {
			declare_war = {
				target = event_target:disputed_heir_country_1
				name = "NAME_fealty_war"
				attacker_war_goal = "wg_coup_independent"
			}
			country_event = { id = civcom.6050 }
		}
	}

	# Declare war on disputed vassal
	option = {
		name = civcom.6000.disputed_heir_country_2
		trigger = {
			is_ai = no
		}
		trigger = {
			check_variable = { which = total_rebel_countries value >= 2 }
			event_target:disputed_heir_country_2 = {
				has_origin = origin_coup_independent
				NOT = { is_at_war_with = root }
			}
		}
		hidden_effect = {
			declare_war = {
				target = event_target:disputed_heir_country_2
				name = "NAME_fealty_war"
				attacker_war_goal = "wg_coup_independent"
			}
			country_event = { id = civcom.6050 }
		}
	}

	# Declare war on disputed vassal
	option = {
		name = civcom.6000.disputed_heir_country_3
		trigger = {
			is_ai = no
		}
		trigger = {
			check_variable = { which = total_rebel_countries value >= 3 }
			event_target:disputed_heir_country_3 = {
				has_origin = origin_coup_independent
				NOT = { is_at_war_with = root }
			}
		}
		hidden_effect = {
			declare_war = {
				target = event_target:disputed_heir_country_3
				name = "NAME_fealty_war"
				attacker_war_goal = "wg_coup_independent"
			}
			country_event = { id = civcom.6050 }
		}
	}

	# Declare war on disputed vassal
	option = {
		name = civcom.6000.disputed_heir_country_4
		trigger = {
			is_ai = no
		}
		trigger = {
			check_variable = { which = total_rebel_countries value >= 4 }
			event_target:disputed_heir_country_4 = {
				has_origin = origin_coup_independent
				NOT = { is_at_war_with = root }
			}
		}
		hidden_effect = {
			declare_war = {
				target = event_target:disputed_heir_country_4
				name = "NAME_fealty_war"
				attacker_war_goal = "wg_coup_independent"
			}
			country_event = { id = civcom.6050 }
		}
	}

	# Declare war on disputed vassal
	option = {
		name = civcom.6000.disputed_heir_country_5
		trigger = {
			is_ai = no
		}
		trigger = {
			check_variable = { which = total_rebel_countries value >= 5 }
			event_target:disputed_heir_country_5 = {
				has_origin = origin_coup_independent
				NOT = { is_at_war_with = root }
			}
		}
		hidden_effect = {
			declare_war = {
				target = event_target:disputed_heir_country_5
				name = "NAME_fealty_war"
				attacker_war_goal = "wg_coup_independent"
			}
			country_event = { id = civcom.6050 }
		}
	}

	# Declare war on disputed vassal
	option = {
		name = civcom.6000.disputed_heir_country_6
		trigger = {
			is_ai = no
		}
		trigger = {
			check_variable = { which = total_rebel_countries value >= 6 }
			event_target:disputed_heir_country_6 = {
				has_origin = origin_coup_independent
				NOT = { is_at_war_with = root }
			}
		}
		hidden_effect = {
			declare_war = {
				target = event_target:disputed_heir_country_6
				name = "NAME_fealty_war"
				attacker_war_goal = "wg_coup_independent"
			}
			country_event = { id = civcom.6050 }
		}
	}

	# Declare war on disputed vassal
	option = {
		name = civcom.6000.disputed_heir_country_7
		trigger = {
			is_ai = no
		}
		trigger = {
			check_variable = { which = total_rebel_countries value >= 7 }
			event_target:disputed_heir_country_7 = {
				has_origin = origin_coup_independent
				NOT = { is_at_war_with = root }
			}
		}
		hidden_effect = {
			declare_war = {
				target = event_target:disputed_heir_country_7
				name = "NAME_fealty_war"
				attacker_war_goal = "wg_coup_independent"
			}
			country_event = { id = civcom.6050 }
		}
	}

	# Declare war on disputed vassal
	option = {
		name = civcom.6000.disputed_heir_country_8
		trigger = {
			is_ai = no
		}
		trigger = {
			check_variable = { which = total_rebel_countries value >= 8 }
			event_target:disputed_heir_country_8 = {
				has_origin = origin_coup_independent
				NOT = { is_at_war_with = root }
			}
		}
		hidden_effect = {
			declare_war = {
				target = event_target:disputed_heir_country_8
				name = "NAME_fealty_war"
				attacker_war_goal = "wg_coup_independent"
			}
			country_event = { id = civcom.6050 }
		}
	}

	# Declare war on disputed vassal
	option = {
		name = civcom.6000.disputed_heir_country_9
		trigger = {
			is_ai = no
		}
		trigger = {
			check_variable = { which = total_rebel_countries value >= 9 }
			event_target:disputed_heir_country_9 = {
				has_origin = origin_coup_independent
				NOT = { is_at_war_with = root }
			}
		}
		hidden_effect = {
			declare_war = {
				target = event_target:disputed_heir_country_9
				name = "NAME_fealty_war"
				attacker_war_goal = "wg_coup_independent"
			}
			country_event = { id = civcom.6050 }
		}
	}

	# Declare war on disputed vassal
	option = {
		name = civcom.6000.disputed_heir_country_10
		trigger = {
			is_ai = no
		}
		trigger = {
			check_variable = { which = total_rebel_countries value >= 10 }
			event_target:disputed_heir_country_10 = {
				has_origin = origin_coup_independent
				NOT = { is_at_war_with = root }
			}
		}
		hidden_effect = {
			declare_war = {
				target = event_target:disputed_heir_country_10
				name = "NAME_fealty_war"
				attacker_war_goal = "wg_coup_independent"
			}
			country_event = { id = civcom.6050 }
		}
	}

	# AI Option
	# Not yet optimized
	option = {
		name = civcom.random
		trigger = {
			is_ai = yes
		}
		ai_chance = { factor = 1 }
		random_list = {
			65 = {
				hidden_effect = {
					declare_war = {
						target = event_target:disputed_heir_country_1
						name = "NAME_fealty_war"
						attacker_war_goal = "wg_coup_independent"
					}
					declare_war = {
						target = event_target:disputed_heir_country_2
						name = "NAME_fealty_war"
						attacker_war_goal = "wg_coup_independent"
					}
					declare_war = {
						target = event_target:disputed_heir_country_3
						name = "NAME_fealty_war"
						attacker_war_goal = "wg_coup_independent"
					}
					declare_war = {
						target = event_target:disputed_heir_country_4
						name = "NAME_fealty_war"
						attacker_war_goal = "wg_coup_independent"
					}
					declare_war = {
						target = event_target:disputed_heir_country_5
						name = "NAME_fealty_war"
						attacker_war_goal = "wg_coup_independent"
					}
					declare_war = {
						target = event_target:disputed_heir_country_6
						name = "NAME_fealty_war"
						attacker_war_goal = "wg_coup_independent"
					}
					declare_war = {
						target = event_target:disputed_heir_country_7
						name = "NAME_fealty_war"
						attacker_war_goal = "wg_coup_independent"
					}
					declare_war = {
						target = event_target:disputed_heir_country_8
						name = "NAME_fealty_war"
						attacker_war_goal = "wg_coup_independent"
					}
					declare_war = {
						target = event_target:disputed_heir_country_9
						name = "NAME_fealty_war"
						attacker_war_goal = "wg_coup_independent"
					}
				}
			}
			45 = {
				# They let them go
			}
		}
	}
}

#######

# Disinheriting disputed heir, heir speaks to you
country_event = {
	id = civcom.6060
	title = civcom.6060.name
	desc = civcom.6060.desc
	location = root.capital_scope
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	picture_event_data = {
		portrait = event_target:heir_speaking
		planet_background = root.owner
		graphical_culture = root.owner
		city_level = root.owner
		room = root.owner
	}

	# Keep heir in line of succession
	option = {
		name = civcom.6060.a
	}

	# I don't know, the rumors have substance.
	option = {
		name = civcom.6060.b
		hidden_effect = {
			country_event = { id = civcom.6061 }
		}
	}
}

# Heir pushes back
country_event = {
	id = civcom.6061
	title = civcom.6061.name
	desc = civcom.6061.desc
	location = root.capital_scope
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	picture_event_data = {
		portrait = event_target:heir_speaking
		planet_background = root.owner
		graphical_culture = root.owner
		city_level = root.owner
		room = root.owner
	}

	# I need time to think about this
	option = {
		name = civcom.6061.a
		hidden_effect = {
			country_event = { id = civcom.6062 days = 7 random = 90  }
		}
	}

	# Disinherit heir
	option = {
		name = civcom.6061.b
		hidden_effect = {
			country_event = { id = civcom.6063 }
		}
	}
}

# Heir asks to know if you've made up your mind.
country_event = {
	id = civcom.6062
	title = civcom.6062.name
	desc = civcom.6062.desc
	location = root.capital_scope
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	picture_event_data = {
		portrait = event_target:heir_speaking
		planet_background = root.owner
		graphical_culture = root.owner
		city_level = root.owner
		room = root.owner
	}

	# I need more time to think about this
	option = {
		name = civcom.6062.a
		hidden_effect = {
			country_event = { id = civcom.6062 days = 7 random = 90  }
		}
	}

	# Keep heir
	option = {
		name = civcom.6062.b
	}

	# Disinherit heir
	option = {
		name = civcom.6062.c
		hidden_effect = {
			country_event = { id = civcom.6063 }
		}
	}
}

# Heir is disinherited, may cause civil war.
country_event = {
	id = civcom.6063
	title = civcom.6063.name
	desc = civcom.6063.desc
	location = root.capital_scope
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	picture_event_data = {
		portrait = event_target:heir_speaking
		planet_background = root.owner
		graphical_culture = root.owner
		city_level = root.owner
		room = root.owner
	}

	# Good luck and goodbye
	option = {
		name = civcom.6063.a
		hidden_effect = {
			heir = {
				save_event_target_as = disinherited_heir
			}
			clone_leader = {
				target = event_target:disinherited_heir
				class = ruler
				effect = {
					save_event_target_as = disinherited_heir
				}
			}
			heir = {
				kill_leader = { show_notification = no }
			}
			country_event = { id = civheir.1000 }
		}
	}
}

#######

# Disinherited heir - 1 planet
country_event = {
	id = civcom.6200
	title = civcom.4000.name
	location = event_target:civwar_rebels
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	desc = {
		text = civcom.6200.norm.desc
		trigger = {
			NOT = { has_valid_civic = civic_adoptive_dynasties }
		}
	}

	desc = {
		text = civcom.6200.ad.desc
		trigger = {
			has_valid_civic = civic_adoptive_dynasties
		}
	}

	picture_event_data = {
		portrait = event_target:civwar_rebels.ruler
		planet_background = event_target:heir_rebellion_planet
		graphical_culture = event_target:civwar_rebels
		city_level = event_target:heir_rebellion_planet
		room = event_target:civwar_rebels.ruler
	}

	# Declare War on the rebels
	option = {
		name = civcom.4000.a
		trigger = {
			is_ai = no
		}
		hidden_effect = {
			event_target:civwar_originator = {
				add_opinion_modifier = {
					who = event_target:civwar_rebels
					modifier = opinion_civwar_planet
				}
			}
			event_target:civwar_rebels = {
				add_opinion_modifier = {
					who = event_target:civwar_originator
					modifier = opinion_civwar_originator
				}
			}
			country_event = { id = civcom.6201 }
		}
	}

	# Let them be fully independent.
	option = {
		name = civcom.4000.b
		trigger = {
			is_ai = no
		}
		hidden_effect = {
			event_target:civwar_originator = {
				add_opinion_modifier = {
					who = event_target:civwar_rebels
					modifier = opinion_civwar_planet_peace
				}
			}
			country_event = { id = civcom.6202 }
		}
	}

	# AI Option
	option = {
		name = civcom.random
		trigger = {
			is_ai = yes
			NOT = { has_valid_civic = civic_fanatic_purifiers }
			event_target:civwar_rebels = {
				capital_scope = {
					solar_system = {
						NOT = { is_bottleneck_system = yes }
					}
				}
			}
		}
		ai_chance = { factor = 1 }
		random_list = {
			98 = {
				hidden_effect = {
					event_target:civwar_originator = {
						add_opinion_modifier = {
							who = event_target:civwar_rebels
							modifier = opinion_civwar_planet
						}
					}
					event_target:civwar_rebels = {
						add_opinion_modifier = {
							who = event_target:civwar_originator
							modifier = opinion_civwar_originator
						}
					}
					country_event = { id = civcom.6201 }
				}
			}
			2 = {
				hidden_effect = {
					event_target:civwar_originator = {
						add_opinion_modifier = {
							who = event_target:civwar_rebels
							modifier = opinion_civwar_planet_peace
						}
					}
					country_event = { id = civcom.6202 }
				}
			}
		}
	}

	# Fanatic Purifier AI or bottleneck system option
	option = {
		name = civcom.random
		trigger = {
			is_ai = yes
			OR = {
				has_valid_civic = civic_fanatic_purifiers
				event_target:civwar_rebels = {
					capital_scope = {
						solar_system = {
							is_bottleneck_system = yes
						}
					}
				}
			}
		}
		ai_chance = { factor = 1 }
		hidden_effect = {
			event_target:civwar_originator = {
				add_opinion_modifier = {
					who = event_target:civwar_rebels
					modifier = opinion_civwar_planet
				}
			}
			event_target:civwar_originator = {
				add_opinion_modifier = {
					who = event_target:civwar_rebels
					modifier = opinion_civwar_planet
				}
			}
			country_event = { id = civcom.4001 }
		}
	}
}

# Disinherited heir - 1 planet - Declared War
country_event = {
	id = civcom.6201
	title = civcom.4000.name
	desc = civcom.5061.desc
	location = event_target:rebellion_planet
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	picture_event_data = {
		portrait = event_target:civwar_rebels.ruler
		planet_background = event_target:heir_rebellion_planet
		graphical_culture = event_target:civwar_rebels
		city_level = event_target:heir_rebellion_planet
		room = event_target:civwar_rebels.ruler
	}

	option = {
		name = civcom.4001.a
		# This needs to be done to get rid of the "Rebels of" tag on the galactic map.
		hidden_effect = {
			get_rid_rebels_of_originator = yes
			country_event = { id = civheir.5101 }
		}
		ai_chance = { factor = 1 }
	}
}

# Disinherited heir - 1 planet - Granted Independence
country_event = {
	id = civcom.6202
	title = civcom.4000.name
	desc = civcom.5052.desc
	location = event_target:rebellion_planet
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	picture_event_data = {
		portrait = event_target:civwar_rebels.ruler
		planet_background = event_target:heir_rebellion_planet
		graphical_culture = event_target:civwar_rebels
		city_level = event_target:heir_rebellion_planet
		room = event_target:civwar_rebels.ruler
	}

	option = {
		name = civcom.5052.a
		ai_chance = { factor = 1 }
		# This needs to be done to get rid of the "Rebels of" tag on the galactic map.
		hidden_effect = {
			get_rid_rebels_of_originator = yes
		}
	}
}

######################
#  Traitor Captured  #
######################

# Traitor Onscreen.
country_event = {
	id = civcom.7000
	title = civcom.7000.name
	desc = civcom.7000.desc
	location = root.capital_scope
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	picture_event_data = {
		portrait = event_target:defeated_traitor
		planet_background = root.owner
		graphical_culture = root.owner
		city_level = root.owner
		room = root.owner
	}

	# Execute
	option = {
		name = civcom.7000.a
		hidden_effect = {
			random_list = {
				33 = {
					set_country_flag = traitor_hanged
				}
				33 = {
					set_country_flag = traitor_firing_squad
				}
				33 = {
					set_country_flag = traitor_guillotine
				}
			}
			country_event = { id = civcom.7001 }
		}
	}

	# Torture
	option = {
		name = civcom.7000.b
		hidden_effect = {
			random_list = {
				33 = {
					set_country_flag = traitor_flayed
				}
				33 = {
					set_country_flag = traitor_stretched
				}
				33 = {
					set_country_flag = traitor_piked
				}
			}
			country_event = { id = civcom.7002 }
		}
	}

	# Imprison
	option = {
		name = civcom.7000.c
		hidden_effect = {
			country_event = { id = civcom.7003 }
		}
	}

	# Pardon
	option = {
		name = civcom.7000.d
		hidden_effect = {
			country_event = { id = civcom.7004 }
		}
	}

	# Banish
	option = {
		name = civcom.7000.e
		hidden_effect = {
			country_event = { id = civcom.7005 }
		}
	}
}

# Traitor Executed
country_event = {
	id = civcom.7001
	title = civcom.7000.name
	desc = civcom.7001.desc
	location = root.capital_scope
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	picture_event_data = {
		portrait = event_target:defeated_traitor
		planet_background = root.owner
		graphical_culture = root.owner
		city_level = root.owner
		room = root.owner
	}

	# Execute
	option = {
		name = civcom.7001.a
		hidden_effect = {
			country_event = { id = civend.5006 }
		}
	}
}

# Traitor Tortured
country_event = {
	id = civcom.7002
	title = civcom.7000.name
	desc = civcom.7002.desc
	location = root.capital_scope
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	picture_event_data = {
		portrait = event_target:defeated_traitor
		planet_background = root.owner
		graphical_culture = root.owner
		city_level = root.owner
		room = root.owner
	}

	# Torture
	option = {
		name = civcom.7002.a
		hidden_effect = {
			country_event = { id = civend.5008 }
		}
	}
}

# Traitor Imprisoned
country_event = {
	id = civcom.7003
	title = civcom.7000.name
	desc = civcom.7003.desc
	location = root.capital_scope
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	picture_event_data = {
		portrait = event_target:defeated_traitor
		planet_background = root.owner
		graphical_culture = root.owner
		city_level = root.owner
		room = root.owner
	}

	# Imprison
	option = {
		name = civcom.7003.a
		hidden_effect = {
			event_target:defeated_traitor = {
				kill_leader = { show_notification = no }
			}
		}
	}
}

# Traitor Pardoned
country_event = {
	id = civcom.7004
	title = civcom.7000.name
	desc = civcom.7004.desc
	location = root.capital_scope
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	picture_event_data = {
		portrait = event_target:defeated_traitor
		planet_background = root.owner
		graphical_culture = root.owner
		city_level = root.owner
		room = root.owner
	}

	# Pardon
	option = {
		name = civcom.7004.a
		hidden_effect = {
			event_target:defeated_traitor = {
				kill_leader = { show_notification = no }
			}
		}
	}
}

# Traitor Banished
country_event = {
	id = civcom.7005
	title = civcom.7000.name
	desc = civcom.7005.desc
	location = root.capital_scope
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	picture_event_data = {
		portrait = event_target:defeated_traitor
		planet_background = root.owner
		graphical_culture = root.owner
		city_level = root.owner
		room = root.owner
	}

	# Banish
	option = {
		name = civcom.7005.a
		hidden_effect = {
			country_event = { id = civend.5100 }
		}
	}
}

#######################
#  Traitor Retrieved  #
#######################

# Retrieved Traitor Onscreen.
country_event = {
	id = civcom.7600
	title = civcom.7600.name
	desc = civcom.7600.desc
	location = root.capital_scope
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	picture_event_data = {
		portrait = event_target:retrieved_traitor
		planet_background = root.owner
		graphical_culture = root.owner
		city_level = root.owner
		room = root.owner
	}

	# Execute
	option = {
		name = civcom.7000.a
		hidden_effect = {
			random_list = {
				33 = {
					set_country_flag = traitor_hanged
				}
				33 = {
					set_country_flag = traitor_firing_squad
				}
				33 = {
					set_country_flag = traitor_guillotine
				}
			}
			country_event = { id = civcom.7601 }
		}
	}

	# Torture
	option = {
		name = civcom.7000.b
		hidden_effect = {
			random_list = {
				33 = {
					set_country_flag = traitor_flayed
				}
				33 = {
					set_country_flag = traitor_stretched
				}
				33 = {
					set_country_flag = traitor_piked
				}
			}
			country_event = { id = civcom.7602 }
		}
	}

	# Imprison
	option = {
		name = civcom.7000.c
		hidden_effect = {
			country_event = { id = civcom.7603 }
		}
	}
}

# Retrieved Traitor Executed
country_event = {
	id = civcom.7601
	title = civcom.7600.name
	desc = civcom.7001.desc
	location = root.capital_scope
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	picture_event_data = {
		portrait = event_target:retrieved_traitor
		planet_background = root.owner
		graphical_culture = root.owner
		city_level = root.owner
		room = root.owner
	}

	# Execute
	option = {
		name = civcom.7001.a
		hidden_effect = {
			country_event = { id = civend.5007 }
		}
	}
}

# Retrieved Traitor Tortured
country_event = {
	id = civcom.7602
	title = civcom.7600.name
	desc = civcom.7002.desc
	location = root.capital_scope
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	picture_event_data = {
		portrait = event_target:retrieved_traitor
		planet_background = root.owner
		graphical_culture = root.owner
		city_level = root.owner
		room = root.owner
	}

	# Torture
	option = {
		name = civcom.7002.a
		hidden_effect = {
			country_event = { id = civend.5009 }
		}
	}
}

# Retrieved Traitor Imprisoned
country_event = {
	id = civcom.7603
	title = civcom.7600.name
	desc = civcom.7003.desc
	location = root.capital_scope
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	picture_event_data = {
		portrait = event_target:retrieved_traitor
		planet_background = root.owner
		graphical_culture = root.owner
		city_level = root.owner
		room = root.owner
	}

	# Imprison
	option = {
		name = civcom.7003.a
		hidden_effect = {
			event_target:retrieved_traitor = {
				kill_leader = { show_notification = no }
			}
		}
	}
}

# Retrieved Heir Onscreen.
country_event = {
	id = civcom.7700
	title = civcom.7600.name
	desc = civcom.7700.desc
	location = root.capital_scope
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	picture_event_data = {
		portrait = event_target:retrieved_traitor
		planet_background = root.owner
		graphical_culture = root.owner
		city_level = root.owner
		room = root.owner
	}

	# Execute
	option = {
		name = civcom.7000.a
		hidden_effect = {
			random_list = {
				33 = {
					set_country_flag = traitor_hanged
				}
				33 = {
					set_country_flag = traitor_firing_squad
				}
				33 = {
					set_country_flag = traitor_guillotine
				}
			}
			country_event = { id = civcom.7701 }
		}
	}

	# Torture
	option = {
		name = civcom.7000.b
		hidden_effect = {
			random_list = {
				33 = {
					set_country_flag = traitor_flayed
				}
				33 = {
					set_country_flag = traitor_stretched
				}
				33 = {
					set_country_flag = traitor_piked
				}
			}
			country_event = { id = civcom.7702 }
		}
	}

	# Imprison
	option = {
		name = civcom.7000.c
		hidden_effect = {
			country_event = { id = civcom.7703 }
		}
	}
}

# Retrieved Heir Executed
country_event = {
	id = civcom.7701
	title = civcom.7600.name
	desc = civcom.7001.desc
	location = root.capital_scope
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	picture_event_data = {
		portrait = event_target:retrieved_traitor
		planet_background = root.owner
		graphical_culture = root.owner
		city_level = root.owner
		room = root.owner
	}

	# Execute
	option = {
		name = civcom.7001.a
		hidden_effect = {
			country_event = { id = civend.6004 }
		}
	}
}

# Retrieved Heir Tortured
country_event = {
	id = civcom.7702
	title = civcom.7600.name
	desc = civcom.7002.desc
	location = root.capital_scope
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	picture_event_data = {
		portrait = event_target:retrieved_traitor
		planet_background = root.owner
		graphical_culture = root.owner
		city_level = root.owner
		room = root.owner
	}

	# Torture
	option = {
		name = civcom.7002.a
		hidden_effect = {
			country_event = { id = civend.6005 }
		}
	}
}

# Retrieved Heir Imprisoned
country_event = {
	id = civcom.7703
	title = civcom.7600.name
	desc = civcom.7003.desc
	location = root.capital_scope
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	picture_event_data = {
		portrait = event_target:retrieved_traitor
		planet_background = root.owner
		graphical_culture = root.owner
		city_level = root.owner
		room = root.owner
	}

	# Imprison
	option = {
		name = civcom.7003.a
		hidden_effect = {
			event_target:retrieved_traitor = {
				kill_leader = { show_notification = no }
			}
		}
	}
}

####################
#   Asylum Events  #
####################

# Traitor Asylum Request
country_event = {
	id = civcom.8000
	title = civcom.7000.name
	location = root.capital_scope
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	picture_event_data = {
		portrait = event_target:defeated_traitor
		planet_background = root.owner
		graphical_culture = root.owner
		city_level = root.owner
		room = root.owner
	}

	desc = {
		text = civcom.8000.governor.desc
		trigger = {
			event_target:defeated_traitor = {
				has_leader_flag = governor_civil_war_leader
			}
		}
	}

	desc = {
		text = civcom.8000.admiral.desc
		trigger = {
			event_target:defeated_traitor = {
				has_leader_flag = admiral_civil_war_leader
			}
		}
	}

	desc = {
		text = civcom.8000.general.desc
		trigger = {
			event_target:defeated_traitor = {
				has_leader_flag = general_civil_war_leader
			}
		}
	}

	desc = {
		text = civcom.8000.scientist.desc
		trigger = {
			event_target:defeated_traitor = {
				has_leader_flag = scientist_civil_war_leader
			}
		}
	}

	# Deny them asylum
	option = {
		name = civcom.8000.a
		hidden_effect = {
			set_country_flag = traitor_already_asked
			event_target:traitor_home_country = {
				country_event = { id = civend.5000 }
			}
		}
	}

	# Grant Asylum
	option = {
		name = civcom.8000.b
		hidden_effect = {
			country_event = { id = civcom.8001 }
			every_country = {
				limit = {
					has_country_flag = traitor_already_asked
				}
				remove_country_flag = traitor_already_asked
			}
		}
	}

	# AI Option
	option = {
		name = civcom.random
		trigger = {
			is_ai = yes
		}
		ai_chance = { factor = 1 }
		hidden_effect = {
			random_list = {
				30 = { # Deny them asylum
					set_country_flag = traitor_already_asked
					event_target:traitor_home_country = {
						country_event = { id = civend.5000 }
					}
				}
				70 = { # Grant Asylum
					country_event = { id = civcom.8001 }
					every_country = {
						limit = {
							has_country_flag = traitor_already_asked
						}
						remove_country_flag = traitor_already_asked
					}
				}
			}
		}
	}
}

# Traitor Asylum Granted
country_event = {
	id = civcom.8001
	title = civcom.7000.name
	desc = civcom.8001.desc
	location = root.capital_scope
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	picture_event_data = {
		portrait = event_target:defeated_traitor
		planet_background = root.owner
		graphical_culture = root.owner
		city_level = root.owner
		room = root.owner
	}

	# Governor
	option = {
		name = civcom.8001.a
		ai_chance = { factor = 5 }
		hidden_effect = {
			clone_leader = {
				target = event_target:defeated_traitor
				class = governor
				traits = {
					trait = random_trait
					trait = random_trait
					trait = random_trait
				}
				effect = {
					save_global_event_target_as = defeated_traitor_asylum
				}
			}
			set_traitor_country_flag = yes
			event_target:defeated_traitor_asylum = {
				set_traitor_flag = yes
			}
			event_target:defeated_traitor = {
				set_leader_flag = dead_ruler
				kill_leader = { show_notification = no }
			}
			event_target:traitor_home_country = {
				set_traitor_country_flag_mother = yes
				country_event = { id = civend.5002 days = 14 random = 360 }
			}
		}
	}

	# Admiral
	option = {
		name = civcom.8001.b
		ai_chance = { factor = 5 }
		hidden_effect = {
			clone_leader = {
				target = event_target:defeated_traitor
				class = admiral
				traits = {
					trait = random_trait
					trait = random_trait
					trait = random_trait
				}
				effect = {
					save_global_event_target_as = defeated_traitor_asylum
				}
			}
			set_traitor_country_flag = yes
			event_target:defeated_traitor_asylum = {
				set_traitor_flag = yes
			}
			event_target:defeated_traitor = {
				set_leader_flag = dead_ruler
				kill_leader = { show_notification = no }
			}
			event_target:traitor_home_country = {
				set_traitor_country_flag_mother = yes
				country_event = { id = civend.5012 days = 14 random = 360 }
			}
		}
	}

	# General
	option = {
		name = civcom.8001.c
		ai_chance = { factor = 3 }
		hidden_effect = {
			clone_leader = {
				target = event_target:defeated_traitor
				class = general
				traits = {
					trait = random_trait
					trait = random_trait
					trait = random_trait
				}
				effect = {
					save_global_event_target_as = defeated_traitor_asylum
				}
			}
			set_traitor_country_flag = yes
			event_target:defeated_traitor_asylum = {
				set_traitor_flag = yes
			}
			event_target:defeated_traitor = {
				set_leader_flag = dead_ruler
				kill_leader = { show_notification = no }
			}
			event_target:traitor_home_country = {
				set_traitor_country_flag_mother = yes
				country_event = { id = civend.5002 days = 14 random = 360 }
			}
		}
	}

	# Scientist
	option = {
		name = civcom.8001.d
		ai_chance = { factor = 2 }
		hidden_effect = {
			clone_leader = {
				target = event_target:defeated_traitor
				class = scientist
				traits = {
					trait = random_trait
					trait = random_trait
					trait = random_trait
				}
				effect = {
					save_global_event_target_as = defeated_traitor_asylum
				}
			}
			set_traitor_country_flag = yes
			event_target:defeated_traitor_asylum = {
				set_traitor_flag = yes
			}
			event_target:defeated_traitor = {
				set_leader_flag = dead_ruler
				kill_leader = { show_notification = no }
			}
			event_target:traitor_home_country = {
				set_traitor_country_flag_mother = yes
				country_event = { id = civend.5002 days = 14 random = 360 }
			}
		}
	}

	after = {
		add_intel = {
			who = event_target:traitor_home_country
			amount = 10
		}
	}
}

# Heir Asylum Request
country_event = {
	id = civcom.8100
	title = civcom.8000.name
	desc = civcom.8100.desc
	location = root.capital_scope
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	picture_event_data = {
		portrait = event_target:disinherited_heir
		planet_background = root.owner
		graphical_culture = root.owner
		city_level = root.owner
		room = root.owner
	}

	# Deny them asylum
	option = {
		name = civcom.8000.a
		hidden_effect = {
			set_country_flag = traitor_heir_already_asked
			event_target:traitor_home_country = {
				country_event = { id = civheir.3001 }
			}
		}
	}

	# Grant Asylum
	option = {
		name = civcom.8000.b
		hidden_effect = {
			country_event = { id = civcom.8101 }
			every_country = {
				limit = {
					has_country_flag = traitor_heir_already_asked
				}
				remove_country_flag = traitor_heir_already_asked
			}
		}
	}

	# AI Option
	option = {
		name = civcom.random
		trigger = {
			is_ai = yes
		}
		ai_chance = { factor = 1 }
		hidden_effect = {
			random_list = {
				30 = { # Deny Asylum
					set_country_flag = traitor_heir_already_asked
					event_target:traitor_home_country = {
						country_event = { id = civend.5000 }
					}
				}
				70 = { # Grant Asylum
					country_event = { id = civcom.8101 }
					every_country = {
					limit = {
						has_country_flag = traitor_heir_already_asked
					}
					remove_country_flag = traitor_heir_already_asked
				}
				}
			}
		}
	}
}

# Heir Asylum Granted
country_event = {
	id = civcom.8101
	title = civcom.8100.name
	desc = civcom.8001.desc
	location = root.capital_scope
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	picture_event_data = {
		portrait = event_target:disinherited_heir
		planet_background = root.owner
		graphical_culture = root.owner
		city_level = root.owner
		room = root.owner
	}

	# Governor
	option = {
		name = civcom.8001.a
		ai_chance = { factor = 5 }
		hidden_effect = {
			clone_leader = {
				target = event_target:disinherited_heir
				class = governor
				traits = {
					trait = random_trait
					trait = random_trait
					trait = random_trait
				}
				effect = {
					save_global_event_target_as = disinherited_heir_asylum
				}
			}
			set_heir_traitor_country_flag = yes
			event_target:disinherited_heir_asylum = {
				set_heir_traitor_flag = yes
			}
			event_target:disinherited_heir = {
				set_leader_flag = dead_ruler
				kill_leader = { show_notification = no }
			}
			event_target:traitor_home_country = {
				set_heir_traitor_country_flag_mother = yes
				country_event = { id = civheir.3003 days = 14 random = 360 }
			}
		}
	}

	# Admiral
	option = {
		name = civcom.8001.b
		ai_chance = { factor = 5 }
		hidden_effect = {
			clone_leader = {
				target = event_target:disinherited_heir
				class = admiral
				traits = {
					trait = random_trait
					trait = random_trait
					trait = random_trait
				}
				effect = {
					save_global_event_target_as = disinherited_heir_asylum
				}
			}
			set_heir_traitor_country_flag = yes
			event_target:disinherited_heir_asylum = {
				set_heir_traitor_flag = yes
			}
			event_target:disinherited_heir = {
				set_leader_flag = dead_ruler
				kill_leader = { show_notification = no }
			}
			event_target:traitor_home_country = {
				set_heir_traitor_country_flag_mother = yes
				country_event = { id = civheir.3113 days = 14 random = 360 }
			}
		}
	}

	# General
	option = {
		name = civcom.8001.c
		ai_chance = { factor = 3 }
		hidden_effect = {
			clone_leader = {
				target = event_target:disinherited_heir
				class = general
				traits = {
					trait = random_trait
					trait = random_trait
					trait = random_trait
				}
				effect = {
					save_global_event_target_as = disinherited_heir_asylum
				}
			}
			set_heir_traitor_country_flag = yes
			event_target:disinherited_heir_asylum = {
				set_heir_traitor_flag = yes
			}
			event_target:disinherited_heir = {
				set_leader_flag = dead_ruler
				kill_leader = { show_notification = no }
			}
			event_target:traitor_home_country = {
				set_heir_traitor_country_flag_mother = yes
				country_event = { id = civheir.3003 days = 14 random = 360 }
			}
		}
	}

	# Scientist
	option = {
		name = civcom.8001.d
		ai_chance = { factor = 2 }
		hidden_effect = {
			clone_leader = {
				target = event_target:disinherited_heir
				class = scientist
				traits = {
					trait = random_trait
					trait = random_trait
					trait = random_trait
				}
				effect = {
					save_global_event_target_as = disinherited_heir_asylum
				}
			}
			set_heir_traitor_country_flag = yes
			event_target:disinherited_heir_asylum = {
				set_heir_traitor_flag = yes
			}
			event_target:disinherited_heir = {
				set_leader_flag = dead_ruler
				kill_leader = { show_notification = no }
			}
			event_target:traitor_home_country = {
				set_heir_traitor_country_flag_mother = yes
				country_event = { id = civheir.3003 days = 14 random = 360 }
			}
		}
	}

	after = {
		add_intel = {
			who = event_target:traitor_home_country
			amount = 10
		}
	}
}

# Traitor Asylum Granted
country_event = {
	id = civcom.8201
	title = civcom.7000.name
	desc = civcom.8001.desc
	location = root.capital_scope
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	picture_event_data = {
		portrait = event_target:defeated_traitor
		planet_background = root.owner
		graphical_culture = root.owner
		city_level = root.owner
		room = root.owner
	}

	# Governor
	option = {
		name = civcom.8001.a
		ai_chance = {
			factor = 0.25
		}
		hidden_effect = {
			clone_leader = {
				target = event_target:defeated_traitor
				class = governor
				effect = {
					save_global_event_target_as = defeated_traitor
					set_traitor_flag = yes
				}
			}
			set_traitor_country_flag = yes
			event_target:traitor_home_country = {
				set_traitor_country_flag_mother = yes
				country_event = { id = civend.5002 days = 14 random = 360 }
			}
		}
	}

	# Admiral
	option = {
		name = civcom.8001.b
		ai_chance = {
			factor = 0.25
		}
		hidden_effect = {
			clone_leader = {
				target = event_target:defeated_traitor
				class = admiral
				effect = {
					save_global_event_target_as = defeated_traitor
					set_traitor_flag = yes
				}
			}
			set_traitor_country_flag = yes
			event_target:traitor_home_country = {
				set_traitor_country_flag_mother = yes
				country_event = { id = civend.5012 days = 14 random = 360 }
			}
		}
	}

	# General
	option = {
		name = civcom.8001.c
		ai_chance = {
			factor = 0.25
		}
		hidden_effect = {
			clone_leader = {
				target = event_target:defeated_traitor
				class = general
				effect = {
					save_global_event_target_as = defeated_traitor
					set_traitor_flag = yes
				}
			}
			set_traitor_country_flag = yes
			event_target:traitor_home_country = {
				set_traitor_country_flag_mother = yes
				country_event = { id = civend.5002 days = 14 random = 360 }
			}
		}
	}

	# Scientist
	option = {
		name = civcom.8001.d
		ai_chance = {
			factor = 0.25
		}
		hidden_effect = {
			clone_leader = {
				target = event_target:defeated_traitor
				class = scientist
				effect = {
					save_global_event_target_as = defeated_traitor
					set_traitor_flag = yes
				}
			}
			set_traitor_country_flag = yes
			event_target:traitor_home_country = {
				set_traitor_country_flag_mother = yes
				country_event = { id = civend.5002 days = 14 random = 360 }
			}
		}
	}
}

########################
#   Espionage Events   #
########################

# Discuss operation with rebel faction leader, pledge support
country_event = {
	id = civcom.9100
	title = civcom.9100.name
	desc = civcom.9100.desc
	location = root.capital_scope
	hide_window = no
	is_triggered_only = yes

	diplomatic = yes

	picture_event_data = {
		portrait = event_target:operation_rebel_leader
		planet_background = root.owner
		graphical_culture = root.owner
		city_level = root.owner
		room = root.owner
	}

	# Small amount of resources for bribes and equipment
	option = {
		name = civcom.9100.a
		trigger = {
			is_ai = no
		}
		allow = {
			custom_tooltip = {
				fail_text = resource_fail_text
				has_resource = { type = energy amount >= 2000 }
				has_resource = { type = alloys amount >= 1000 }
				has_resource = { type = consumer_goods amount >= 500 }
			}
		}
		add_resource = { energy = -2000 }
		add_resource = { alloys = -1000 }
		add_resource = { consumer_goods = -500 }
		hidden_effect = {
			event_target:operation_rebel_leader = {
				set_leader_flag = small_op_resources
			}
		}
	}

	# Medium amount of resources for bribes and equipment
	option = {
		name = civcom.9100.b
		trigger = {
			is_ai = no
		}
		allow = {
			custom_tooltip = {
				fail_text = resource_fail_text
				has_resource = { type = energy amount >= 5000 }
				has_resource = { type = alloys amount >= 2500 }
				has_resource = { type = consumer_goods amount >= 1000 }
			}
		}
		add_resource = { energy = -5000 }
		add_resource = { alloys = -2500 }
		add_resource = { consumer_goods = -1000 }
		hidden_effect = {
			event_target:operation_rebel_leader = {
				set_leader_flag = medium_op_resources
			}
		}
	}

	# Large amount of resources for bribes and equipment
	option = {
		name = civcom.9100.c
		trigger = {
			is_ai = no
		}
		allow = {
			custom_tooltip = {
				fail_text = resource_fail_text
				has_resource = { type = energy amount >= 10000 }
				has_resource = { type = alloys amount >= 5000 }
				has_resource = { type = consumer_goods amount >= 2500 }
			}
		}
		add_resource = { energy = -10000 }
		add_resource = { alloys = -5000 }
		add_resource = { consumer_goods = -2500 }
		hidden_effect = {
			event_target:operation_rebel_leader = {
				set_leader_flag = large_op_resources
			}
		}
	}

	# Not enough resources / cancel operation
	option = {
		name = civcom.9100.d
		trigger = {
			is_ai = no
		}
		hidden_effect = {
			event_target:target_country = {
				set_country_flag = no_resources_op_failed
			}
		}
	}

	# AI Option - Not implemented
	option = {
		name = civcom.random
		trigger = {
			is_ai = yes
		}
		ai_chance = { factor = 1 }
	}
}

#######################
#   Election Events   #
#######################

# Disputed Election, other party leader demands investigation
# Options:
# - investigate
# - Deny
# country_event = { 
# 	id = civcom.7000
# 	title = civcom.7000.name
# 	desc = civcom.7000.desc
# 	location = root.capital_scope
# 	hide_window = no
# 	is_triggered_only = yes

# 	diplomatic = yes

# 	picture_event_data = {
# 		portrait = event_target:grievance_party_leader
# 		planet_background = root.owner
# 		graphical_culture = root.owner
# 		city_level = root.owner
# 		room = root.owner
# 	}

# 	# We'll conduct an investigation
# 	option = {
# 		name = civcom.7000.a
# 		trigger = {
# 			is_ai = no
# 		}
# 		hidden_effect = {
# 			random_list = {
# 				# The investigation finds no evidence of fraud, days = 30 random = 180
# 				65 = {
# 					country_event = { id = civelection.1002 }
# 				}
# 				# The investigation finds evidence of fraud
# 				35 = {
# 					country_event = { id = civelection.1003 }
# 				}
# 			}
			
# 		}
# 	}

# 	# Deny
# 	option = {
# 		name = civcom.7000.b
# 		trigger = {
# 			is_ai = no
# 		}
# 		hidden_effect = {
# 			country_event = { id = civcom.7001 }
# 		}
# 	}
# }

# # Party leaders threatens consequences
# country_event = { 
# 	id = civcom.7001
# 	title = civcom.7001.name
# 	desc = civcom.7001.desc
# 	location = root.capital_scope
# 	hide_window = no
# 	is_triggered_only = yes

# 	diplomatic = yes

# 	picture_event_data = {
# 		portrait = event_target:grievance_party_leader
# 		planet_background = root.owner
# 		graphical_culture = root.owner
# 		city_level = root.owner
# 		room = root.owner
# 	}

# 	# Good luck with that.
# 	option = {
# 		name = civcom.7001.a
# 		trigger = {
# 			is_ai = no
# 		}
# 		hidden_effect = {
# 			random_list = {
# 				# Nothing Happens, days = 30 random = 180
# 				40 = {
# 					country_event = { id = civelection.1004 }
# 				}
# 				# Party finds no evidence of election fraud
# 				25 = {
# 					country_event = { id = civelection.1005 }
# 				}
# 				# Party finds evidence of election fraud
# 				35 = {
# 					country_event = { id = civelection.1006 }
# 				}
# 			}
# 		}
# 	}
# }

# # The concerned party conducted their own investigation and found evidence of fraud
# country_event = { 
# 	id = civcom.7002
# 	title = civcom.7002.name
# 	desc = civcom.7002.desc
# 	location = root.capital_scope
# 	hide_window = no
# 	is_triggered_only = yes

# 	diplomatic = yes

# 	picture_event_data = {
# 		portrait = event_target:grievance_party.leader
# 		planet_background = root.owner
# 		graphical_culture = root.owner
# 		city_level = root.owner
# 		room = root.owner
# 	}

# 	# Resign in face of overwhelming evidence
# 	option = {
# 		name = civcom.7002.a
# 		trigger = {
# 			is_ai = no
# 		}
# 		hidden_effect = {
# 			ruler = {
# 				kill_leader = { show_notification = no }
# 			}
# 		}
# 	}

# 	# Dismiss their evidence, you are not resigning
# 	option = {
# 		name = civcom.7002.b
# 		trigger = {
# 			is_ai = no
# 		}
# 		hidden_effect = {
# 			country_event = { id = civcom.7003 }
# 		}
# 	}
# }

# # Fraud ultimately dismissed
# country_event = { 
# 	id = civcom.7003
# 	title = civcom.7003.name
# 	desc = civcom.7003.desc
# 	location = root.capital_scope
# 	hide_window = no
# 	is_triggered_only = yes

# 	diplomatic = yes

# 	picture_event_data = {
# 		portrait = event_target:grievance_party.leader
# 		planet_background = root.owner
# 		graphical_culture = root.owner
# 		city_level = root.owner
# 		room = root.owner
# 	}

# 	# Dismiss their evidence again, all parties will be very, very upset as long as this ruler remains in power.
# 	option = {
# 		name = civcom.7003.a
# 		trigger = {
# 			is_ai = no
# 		}
# 		hidden_effect = {
# 			ruler = {
# 				set_leader_flag = rigged_election_ruler
# 			}
# 			country_event = { id = civelection.9001 }
# 		}
# 	}
# }