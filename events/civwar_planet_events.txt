
###############################
### Civil Wars by MrFunEGUY ###
###############################

namespace = civplan

country_event = { # Instability counter on stability decrease and add separatists
	id = civplan.8000
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		NOR = {
			years_passed < 15
			is_subject = yes
			has_ethic = ethic_gestalt_consciousness
		}
	}

	immediate = {
		if = {
			limit = {
				any_owned_planet = {
					num_pops >= 5
					is_colony = yes
					is_occupied_flag = no
					has_orbital_bombardment = no
					planet_stability <= 25
					solar_system = { check_civwar_capital = yes }
					NOR = {
						has_orbital_bombardment = yes
						planet_devastation >= 15
						has_planet_flag = revolt_tick_1
						has_planet_flag = revolt_tick_2
						has_planet_flag = revolt_tick_3
						has_planet_flag = revolt_tick_4
						has_planet_flag = revolt_tick_5
						has_planet_flag = rebellion_suppressed
					}
				}
			}
			while = {
				count = 10
				random_owned_planet = {
					limit = {
						num_pops >= 5
						is_colony = yes
						is_occupied_flag = no
						has_orbital_bombardment = no
						planet_stability <= 25
						solar_system = { check_civwar_capital = yes }
						NOR = {
							has_orbital_bombardment = yes
							planet_devastation >= 15
							has_planet_flag = revolt_tick_1
							has_planet_flag = revolt_tick_2
							has_planet_flag = revolt_tick_3
							has_planet_flag = revolt_tick_4
							has_planet_flag = revolt_tick_5
							has_planet_flag = rebellion_suppressed
						}
					}
					set_planet_flag = revolt_tick_1
				}
			}
		}
		else_if = {
			limit = {
				any_owned_planet = {
					num_pops >= 5
					is_colony = yes
					is_occupied_flag = no
					has_orbital_bombardment = no
					planet_stability <= 25
					solar_system = { check_civwar_capital = yes }
					has_planet_flag = revolt_tick_1
				}
			}
			while = {
				count = 10
				random_owned_planet = {
					limit = {
						num_pops >= 5
						is_colony = yes
						is_occupied_flag = no
						has_orbital_bombardment = no
						planet_stability <= 25
						solar_system = { check_civwar_capital = yes }
						has_planet_flag = revolt_tick_1
					}
					remove_planet_flag = revolt_tick_1
					set_planet_flag = revolt_tick_2
				}
			}
		}
		else_if = {
			limit = {
				any_owned_planet = {
					num_pops >= 5
					is_colony = yes
					is_occupied_flag = no
					has_orbital_bombardment = no
					planet_stability <= 25
					solar_system = { check_civwar_capital = yes }
					has_planet_flag = revolt_tick_2
				}
			}
			while = {
				count = 10
				random_owned_planet = {
					limit = {
						num_pops >= 5
						is_colony = yes
						is_occupied_flag = no
						has_orbital_bombardment = no
						planet_stability <= 25
						solar_system = { check_civwar_capital = yes }
						has_planet_flag = revolt_tick_2
					}
					remove_planet_flag = revolt_tick_2
					set_planet_flag = revolt_tick_3
				}
			}
		}
		else_if = {
			limit = {
				any_owned_planet = {
					num_pops >= 5
					is_colony = yes
					is_occupied_flag = no
					has_orbital_bombardment = no
					planet_stability <= 25
					solar_system = { check_civwar_capital = yes }
					has_planet_flag = revolt_tick_3
				}
			}
			while = {
				count = 10
				random_owned_planet = {
					limit = {
						num_pops >= 5
						is_colony = yes
						is_occupied_flag = no
						has_orbital_bombardment = no
						planet_stability <= 25
						solar_system = { check_civwar_capital = yes }
						has_planet_flag = revolt_tick_3
					}
					remove_planet_flag = revolt_tick_3
					set_planet_flag = revolt_tick_4
				}
			}
		}
		else_if = {
			limit = {
				any_owned_planet = {
					num_pops >= 5
					is_colony = yes
					is_occupied_flag = no
					has_orbital_bombardment = no
					planet_stability <= 25
					solar_system = { check_civwar_capital = yes }
					has_planet_flag = revolt_tick_4
				}
			}
			while = {
				count = 10
				random_owned_planet = {
					limit = {
						num_pops >= 5
						is_colony = yes
						is_occupied_flag = no
						has_orbital_bombardment = no
						planet_stability <= 25
						solar_system = { check_civwar_capital = yes }
						has_planet_flag = revolt_tick_4
					}
					remove_planet_flag = revolt_tick_4
					set_planet_flag = revolt_tick_5
					add_modifier = { modifier = planetary_rebels days = -1 }
					save_event_target_as = separatist_planet
					planet_event = { id = civplan.9000 days = 2 random = 28 }
				}
			}
		}
	}
}

country_event = { # Decrease instability counter on stability increase before separatists appear
	id = civplan.8001
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		NOR = {
			years_passed < 15
			is_subject = yes
			has_ethic = ethic_gestalt_consciousness
		}
	}

	immediate = {
		if = {
			limit = {
				any_owned_planet = {
					AND = {
						planet_stability > 25
						has_planet_flag = revolt_tick_1
					}
				}
			}
			while = {
				count = 20
				random_owned_planet = {
					limit = {
						AND = {
							planet_stability > 25
							has_planet_flag = revolt_tick_1
						}
					}
					remove_planet_flag = revolt_tick_1
				}
			}
		}
		else_if = {
			limit = {
				any_owned_planet = {
					AND = {
						planet_stability > 25
						has_planet_flag = revolt_tick_2
					}
				}
			}
			while = {
				count = 20
				random_owned_planet = {
					limit = {
						AND = {
							planet_stability > 25
							has_planet_flag = revolt_tick_2
						}
					}
					remove_planet_flag = revolt_tick_2
					set_planet_flag = revolt_tick_1
				}
			}
		}
		else_if = {
			limit = {
				any_owned_planet = {
					AND = {
						planet_stability > 25
						has_planet_flag = revolt_tick_3
					}
				}
			}
			while = {
				count = 20
				random_owned_planet = {
					limit = {
						AND = {
							planet_stability > 25
							has_planet_flag = revolt_tick_3
						}
					}
					remove_planet_flag = revolt_tick_3
					set_planet_flag = revolt_tick_2
				}
			}
		}
		else_if = {
			limit = {
				any_owned_planet = {
					AND = {
						planet_stability > 25
						has_planet_flag = revolt_tick_4
					}
				}
			}
			while = {
				count = 20
				random_owned_planet = {
					limit = {
						AND = {
							planet_stability > 25
							has_planet_flag = revolt_tick_4
						}
					}
					remove_planet_flag = revolt_tick_4
					set_planet_flag = revolt_tick_3
				}
			}
		}
	}
}

country_event = { # Stability counter on stability increase and remove separatists
	id = civplan.8002
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		NOR = {
			years_passed < 15
			is_subject = yes
			has_ethic = ethic_gestalt_consciousness
		}
	}

	immediate = {
		if = {
			limit = {
				any_owned_planet = {
					planet_stability > 25
					has_planet_flag = revolt_tick_5
					NOR = {
						has_planet_flag = calm_tick_1
						has_planet_flag = calm_tick_2
						has_planet_flag = calm_tick_3
						has_planet_flag = calm_tick_4
						has_planet_flag = calm_tick_5
					}
				}
			}
			while = {
				count = 10
				random_owned_planet = {
					limit = {
						planet_stability > 25
						has_planet_flag = revolt_tick_5
						NOR = {
							has_planet_flag = calm_tick_1
							has_planet_flag = calm_tick_2
							has_planet_flag = calm_tick_3
							has_planet_flag = calm_tick_4
							has_planet_flag = calm_tick_5
						}
					}
					set_planet_flag = calm_tick_1
				}
			}
		}
		else_if = {
			limit = {
				any_owned_planet = {
					planet_stability > 25
					has_planet_flag = calm_tick_1
					has_planet_flag = revolt_tick_5
				}
			}
			while = {
				count = 10
				random_owned_planet = {
					limit = {
						planet_stability > 25
						has_planet_flag = calm_tick_1
						has_planet_flag = revolt_tick_5
					}
					remove_planet_flag = calm_tick_1
					set_planet_flag = calm_tick_2
				}
			}
		}
		else_if = {
			limit = {
				any_owned_planet = {
					planet_stability > 25
					has_planet_flag = calm_tick_2
					has_planet_flag = revolt_tick_5
				}
			}
			while = {
				count = 10
				random_owned_planet = {
					limit = {
						planet_stability > 25
						has_planet_flag = calm_tick_2
						has_planet_flag = revolt_tick_5
					}
					remove_planet_flag = calm_tick_2
					set_planet_flag = calm_tick_3
				}
			}
		}
		else_if = {
			limit = {
				any_owned_planet = {
					planet_stability > 25
					has_planet_flag = calm_tick_3
					has_planet_flag = revolt_tick_5
				}
			}
			while = {
				count = 10
				random_owned_planet = {
					limit = {
						planet_stability > 25
						has_planet_flag = calm_tick_3
						has_planet_flag = revolt_tick_5
					}
					remove_planet_flag = calm_tick_3
					set_planet_flag = calm_tick_4
				}
			}
		}
		else_if = {
			limit = {
				any_owned_planet = {
					planet_stability > 25
					has_planet_flag = calm_tick_4
					has_planet_flag = revolt_tick_5
				}
			}
			while = {
				count = 10
				random_owned_planet = {
					limit = {
						planet_stability > 25
						has_planet_flag = calm_tick_4
						has_planet_flag = revolt_tick_5
					}
					remove_planet_flag = calm_tick_4
					remove_planet_flag = revolt_tick_5
					remove_modifier = planetary_rebels
					save_event_target_as = separatists_disband_planet
					planet_event = { id = civplan.9001 }
				}
			}
		}
	}
}

country_event = { # Decrease stability counter on stability decrease after separatists appear
	id = civplan.8003
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		NOR = {
			years_passed < 15
			is_subject = yes
			has_ethic = ethic_gestalt_consciousness
		}
	}

	immediate = {
		if = {
			limit = {
				any_owned_planet = {
					AND = {
						planet_stability <= 25
						has_planet_flag = calm_tick_1
					}
				}
			}
			while = {
				count = 20
				random_owned_planet = {
					limit = {
						AND = {
							planet_stability <= 25
							has_planet_flag = calm_tick_1
						}
					}
					remove_planet_flag = calm_tick_1
				}
			}
		}
		else_if = {
			limit = {
				any_owned_planet = {
					AND = {
						planet_stability <= 25
						has_planet_flag = calm_tick_2
					}
				}
			}
			while = {
				count = 20
				random_owned_planet = {
					limit = {
						AND = {
							planet_stability <= 25
							has_planet_flag = calm_tick_2
						}
					}
					remove_planet_flag = calm_tick_2
					set_planet_flag = calm_tick_1
				}
			}
		}
		else_if = {
			limit = {
				any_owned_planet = {
					AND = {
						planet_stability <= 25
						has_planet_flag = calm_tick_3
					}
				}
			}
			while = {
				count = 20
				random_owned_planet = {
					limit = {
						AND = {
							planet_stability <= 25
							has_planet_flag = calm_tick_3
						}
					}
					remove_planet_flag = calm_tick_3
					set_planet_flag = calm_tick_2
				}
			}
		}
		else_if = {
			limit = {
				any_owned_planet = {
					AND = {
						planet_stability <= 25
						has_planet_flag = calm_tick_4
					}
				}
			}
			while = {
				count = 20
				random_owned_planet = {
					limit = {
						AND = {
							planet_stability <= 25
							has_planet_flag = calm_tick_4
						}
					}
					remove_planet_flag = calm_tick_4
					set_planet_flag = calm_tick_3
				}
			}
		}
	}
}

planet_event = { # Separatists appear message
	id = civplan.9000
	picture = GFX_evt_spy_network
	title = civplan.9000.name
	desc = civplan.9000.desc
	hide_window = no
	is_triggered_only = yes

	option = {
		name = civplan.9000.a
		ai_chance = { factor = 1 }
	}
}

planet_event = { # Separatists disband message
	id = civplan.9001
	picture = GFX_evt_colony_settlement
	title = civplan.9001.name
	desc = civplan.9001.desc
	hide_window = no
	is_triggered_only = yes

	option = {
		name = civplan.9001.a
		ai_chance = { factor = 1 }
	}
}

#################################################
#   Planets for Scientist / General Civil War
#################################################

country_event = { # - Authoritarian
	id = civplan.1002
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		if = {
			limit = {
				any_owned_planet = {
					num_pops >= 1
					is_colony = yes
					is_occupied_flag = no
					has_orbital_bombardment = no
					solar_system = { check_civwar_capital = yes }
					pop_percentage = {
						percentage >= 0.15
						limit = { pop_has_ethic = ethic_authoritarian }
					}
				}
			}
			random_owned_planet = {
				limit = {
					num_pops >= 1
					is_colony = yes
					is_occupied_flag = no
					has_orbital_bombardment = no
					solar_system = { check_civwar_capital = yes }
					pop_percentage = {
						percentage >= 0.15
						limit = { pop_has_ethic = ethic_authoritarian }
					}
				}
				save_event_target_as = civil_war_planet
				solar_system = {
					set_star_flag = civil_war_flip
					set_star_flag = civwar_planet
				}
			}
			get_systems_for_civwar = yes
		}
		else = {
			get_random_civwar_planet = yes
		}
		if = {
			limit = {
				has_global_flag = more_authorities_activated
			}
			country_event = { id = civwarcountry_ma.1004 }
		}
		else = {
			country_event = { id = civwarcountry.1004 }
		}
	}
}

country_event = { # - Egalitarian
	id = civplan.1003
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		if = {
			limit = {
				any_owned_planet = {
					num_pops >= 1
					is_colony = yes
					is_occupied_flag = no
					has_orbital_bombardment = no
					solar_system = { check_civwar_capital = yes }
					pop_percentage = {
						percentage >= 0.15
						limit = { pop_has_ethic = ethic_egalitarian }
					}
				}
			}
			random_owned_planet = {
				limit = {
					num_pops >= 1
					is_colony = yes
					is_occupied_flag = no
					has_orbital_bombardment = no
					solar_system = { check_civwar_capital = yes }
					pop_percentage = {
						percentage >= 0.15
						limit = { pop_has_ethic = ethic_egalitarian }
					}
				}
				save_event_target_as = civil_war_planet
				solar_system = {
					set_star_flag = civil_war_flip
					set_star_flag = civwar_planet
				}
			}
			get_systems_for_civwar = yes
		}
		else = {
			get_random_civwar_planet = yes
		}
		if = {
			limit = {
				has_global_flag = more_authorities_activated
			}
			country_event = { id = civwarcountry_ma.1005 }
		}
		else = {
			country_event = { id = civwarcountry.1005 }
		}
	}
}

country_event = { # - Militarist
	id = civplan.1004
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		if = {
			limit = {
				any_owned_planet = {
					num_pops >= 1
					is_colony = yes
					is_occupied_flag = no
					has_orbital_bombardment = no
					solar_system = { check_civwar_capital = yes }
					pop_percentage = {
						percentage >= 0.15
						limit = { pop_has_ethic = ethic_militarist }
					}
				}
			}
			random_owned_planet = {
				limit = {
					num_pops >= 1
					is_colony = yes
					is_occupied_flag = no
					has_orbital_bombardment = no
					solar_system = { check_civwar_capital = yes }
					pop_percentage = {
						percentage >= 0.15
						limit = { pop_has_ethic = ethic_militarist }
					}
				}
				save_event_target_as = civil_war_planet
				solar_system = {
					set_star_flag = civil_war_flip
					set_star_flag = civwar_planet
				}
			}
			get_systems_for_civwar = yes
		}
		else = {
			get_random_civwar_planet = yes
		}
		if = {
			limit = {
				has_global_flag = more_authorities_activated
			}
			country_event = { id = civwarcountry_ma.1006 }
		}
		else = {
			country_event = { id = civwarcountry.1006 }
		}
	}
}

country_event = { # - Pacifist
	id = civplan.1005
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		if = {
			limit = {
				any_owned_planet = {
					num_pops >= 1
					is_colony = yes
					is_occupied_flag = no
					has_orbital_bombardment = no
					solar_system = { check_civwar_capital = yes }
					pop_percentage = {
						percentage >= 0.15
						limit = { pop_has_ethic = ethic_pacifist }
					}
				}
			}
			random_owned_planet = {
				limit = {
					num_pops >= 1
					is_colony = yes
					is_occupied_flag = no
					has_orbital_bombardment = no
					solar_system = { check_civwar_capital = yes }
					pop_percentage = {
						percentage >= 0.15
						limit = { pop_has_ethic = ethic_pacifist }
					}
				}
				save_event_target_as = civil_war_planet
				solar_system = {
					set_star_flag = civil_war_flip
					set_star_flag = civwar_planet
					set_star_flag = CIVWAR_TEST
				}
			}
			get_systems_for_civwar = yes
		}
		else = {
			get_random_civwar_planet = yes
		}
		if = {
			limit = {
				has_global_flag = more_authorities_activated
			}
			country_event = { id = civwarcountry_ma.1007 }
		}
		else = {
			country_event = { id = civwarcountry.1007 }
		}
	}
}

country_event = { # - Materialist
	id = civplan.1006
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		if = {
			limit = {
				any_owned_planet = {
					num_pops >= 1
					is_colony = yes
					is_occupied_flag = no
					has_orbital_bombardment = no
					solar_system = { check_civwar_capital = yes }
					pop_percentage = {
						percentage >= 0.15
						limit = { pop_has_ethic = ethic_materialist }
					}
				}
			}
			random_owned_planet = {
				limit = {
					num_pops >= 1
					is_colony = yes
					is_occupied_flag = no
					has_orbital_bombardment = no
					solar_system = { check_civwar_capital = yes }
					pop_percentage = {
						percentage >= 0.15
						limit = { pop_has_ethic = ethic_materialist }
					}
				}
				save_event_target_as = civil_war_planet
				solar_system = {
					set_star_flag = civil_war_flip
					set_star_flag = civwar_planet
				}
			}
			get_systems_for_civwar = yes
		}
		else = {
			get_random_civwar_planet = yes
		}
		if = {
			limit = {
				has_global_flag = more_authorities_activated
			}
			country_event = { id = civwarcountry_ma.1008 }
		}
		else = {
			country_event = { id = civwarcountry.1008 }
		}
	}
}

country_event = { # - Spiritualist
	id = civplan.1007
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		if = {
			limit = {
				any_owned_planet = {
					num_pops >= 1
					is_colony = yes
					is_occupied_flag = no
					has_orbital_bombardment = no
					solar_system = { check_civwar_capital = yes }
					pop_percentage = {
						percentage >= 0.15
						limit = { pop_has_ethic = ethic_spiritualist }
					}
				}
			}
			random_owned_planet = {
				limit = {
					num_pops >= 1
					is_colony = yes
					is_occupied_flag = no
					has_orbital_bombardment = no
					solar_system = { check_civwar_capital = yes }
					pop_percentage = {
						percentage >= 0.15
						limit = { pop_has_ethic = ethic_spiritualist }
					}
				}
				save_event_target_as = civil_war_planet
				solar_system = {
					set_star_flag = civil_war_flip
					set_star_flag = civwar_planet
				}
			}
			get_systems_for_civwar = yes
		}
		else = {
			get_random_civwar_planet = yes
		}
		if = {
			limit = {
				has_global_flag = more_authorities_activated
			}
			country_event = { id = civwarcountry_ma.1009 }
		}
		else = {
			country_event = { id = civwarcountry.1009 }
		}
	}
}

country_event = { # - Xenophile
	id = civplan.1008
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		if = {
			limit = {
				any_owned_planet = {
					num_pops >= 1
					is_colony = yes
					is_occupied_flag = no
					has_orbital_bombardment = no
					solar_system = { check_civwar_capital = yes }
					pop_percentage = {
						percentage >= 0.15
						limit = { pop_has_ethic = ethic_xenophile }
					}
				}
			}
			random_owned_planet = {
				limit = {
					num_pops >= 1
					is_colony = yes
					is_occupied_flag = no
					has_orbital_bombardment = no
					solar_system = { check_civwar_capital = yes }
					pop_percentage = {
						percentage >= 0.15
						limit = { pop_has_ethic = ethic_xenophile }
					}
				}
				save_event_target_as = civil_war_planet
				solar_system = {
					set_star_flag = civil_war_flip
					set_star_flag = civwar_planet
				}
			}
			get_systems_for_civwar = yes
		}
		else = {
			get_random_civwar_planet = yes
		}
		if = {
			limit = {
				has_global_flag = more_authorities_activated
			}
			country_event = { id = civwarcountry_ma.1010 }
		}
		else = {
			country_event = { id = civwarcountry.1010 }
		}
	}
}

country_event = { # - Xenophobe
	id = civplan.1009
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		if = {
			limit = {
				any_owned_planet = {
					num_pops >= 1
					is_colony = yes
					is_occupied_flag = no
					has_orbital_bombardment = no
					solar_system = { check_civwar_capital = yes }
					pop_percentage = {
						percentage >= 0.15
						limit = { pop_has_ethic = ethic_xenophobe }
					}
				}
			}
			random_owned_planet = {
				limit = {
					num_pops >= 1
					is_colony = yes
					is_occupied_flag = no
					has_orbital_bombardment = no
					solar_system = { check_civwar_capital = yes }
					pop_percentage = {
						percentage >= 0.15
						limit = { pop_has_ethic = ethic_xenophobe }
					}
				}
				save_event_target_as = civil_war_planet
				solar_system = {
					set_star_flag = civil_war_flip
					set_star_flag = civwar_planet
				}
			}
			get_systems_for_civwar = yes
		}
		else = {
			get_random_civwar_planet = yes
		}
		if = {
			limit = {
				has_global_flag = more_authorities_activated
			}
			country_event = { id = civwarcountry_ma.1011 }
		}
		else = {
			country_event = { id = civwarcountry.1011 }
		}
	}
}

country_event = { # - Socialism
	id = civplan.1010
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		if = {
			limit = {
				any_owned_planet = {
					num_pops >= 1
					is_colony = yes
					is_occupied_flag = no
					has_orbital_bombardment = no
					solar_system = { check_civwar_capital = yes }
					pop_percentage = {
						percentage >= 0.15
						limit = { pop_has_ethic = ethic_socialism }
					}
				}
			}
			random_owned_planet = {
				limit = {
					num_pops >= 1
					is_colony = yes
					is_occupied_flag = no
					has_orbital_bombardment = no
					solar_system = { check_civwar_capital = yes }
					pop_percentage = {
						percentage >= 0.15
						limit = { pop_has_ethic = ethic_socialism }
					}
				}
				save_event_target_as = civil_war_planet
				solar_system = {
					set_star_flag = civil_war_flip
					set_star_flag = civwar_planet
				}
			}
			get_systems_for_civwar = yes
		}
		else = {
			get_random_civwar_planet = yes
		}
		if = {
			limit = {
				has_global_flag = more_authorities_activated
			}
			country_event = { id = civwarcountry_ma.1012 }
		}
		else = {
			country_event = { id = civwarcountry.1012 }
		}
	}
}

country_event = { # - Capitalism
	id = civplan.1011
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		if = {
			limit = {
				any_owned_planet = {
					num_pops >= 1
					is_colony = yes
					is_occupied_flag = no
					has_orbital_bombardment = no
					solar_system = { check_civwar_capital = yes }
					pop_percentage = {
						percentage >= 0.15
						limit = { pop_has_ethic = ethic_capitalism }
					}
				}
			}
			random_owned_planet = {
				limit = {
					num_pops >= 1
					is_colony = yes
					is_occupied_flag = no
					has_orbital_bombardment = no
					solar_system = { check_civwar_capital = yes }
					pop_percentage = {
						percentage >= 0.15
						limit = { pop_has_ethic = ethic_capitalism }
					}
				}
				save_event_target_as = civil_war_planet
				solar_system = {
					set_star_flag = civil_war_flip
					set_star_flag = civwar_planet
				}
			}
			get_systems_for_civwar = yes
		}
		else = {
			get_random_civwar_planet = yes
		}
		if = {
			limit = {
				has_global_flag = more_authorities_activated
			}
			country_event = { id = civwarcountry_ma.1013 }
		}
		else = {
			country_event = { id = civwarcountry.1013 }
		}
	}
}

country_event = { # - Industrialist
	id = civplan.1012
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		if = {
			limit = {
				any_owned_planet = {
					num_pops >= 1
					is_colony = yes
					is_occupied_flag = no
					has_orbital_bombardment = no
					solar_system = { check_civwar_capital = yes }
					pop_percentage = {
						percentage >= 0.15
						limit = { pop_has_ethic = ethic_industrial }
					}
				}
			}
			random_owned_planet = {
				limit = {
					num_pops >= 1
					is_colony = yes
					is_occupied_flag = no
					has_orbital_bombardment = no
					solar_system = { check_civwar_capital = yes }
					pop_percentage = {
						percentage >= 0.15
						limit = { pop_has_ethic = ethic_industrial }
					}
				}
				save_event_target_as = civil_war_planet
				solar_system = {
					set_star_flag = civil_war_flip
					set_star_flag = civwar_planet
				}
			}
			get_systems_for_civwar = yes
		}
		else = {
			get_random_civwar_planet = yes
		}
		if = {
			limit = {
				has_global_flag = more_authorities_activated
			}
			country_event = { id = civwarcountry_ma.1016 }
		}
		else = {
			country_event = { id = civwarcountry.1016 }
		}
	}
}

country_event = { # - Environmentalist
	id = civplan.1013
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		if = {
			limit = {
				any_owned_planet = {
					num_pops >= 1
					is_colony = yes
					is_occupied_flag = no
					has_orbital_bombardment = no
					solar_system = { check_civwar_capital = yes }
					pop_percentage = {
						percentage >= 0.15
						limit = { pop_has_ethic = ethic_green }
					}
				}
			}
			random_owned_planet = {
				limit = {
					num_pops >= 1
					is_colony = yes
					is_occupied_flag = no
					has_orbital_bombardment = no
					solar_system = { check_civwar_capital = yes }
					pop_percentage = {
						percentage >= 0.15
						limit = { pop_has_ethic = ethic_green }
					}
				}
				save_event_target_as = civil_war_planet
				solar_system = {
					set_star_flag = civil_war_flip
					set_star_flag = civwar_planet
				}
			}
			get_systems_for_civwar = yes
		}
		else = {
			get_random_civwar_planet = yes
		}
		if = {
			limit = {
				has_global_flag = more_authorities_activated
			}
			country_event = { id = civwarcountry_ma.1017 }
		}
		else = {
			country_event = { id = civwarcountry.1017 }
		}
	}
}

country_event = { # - Elitists
	id = civplan.1014
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		if = {
			limit = {
				any_owned_planet = {
					num_pops >= 1
					is_colony = yes
					is_occupied_flag = no
					has_orbital_bombardment = no
					solar_system = { check_civwar_capital = yes }
					pop_percentage = {
						percentage >= 0.15
						limit = { pop_has_ethic = ethic_elitist }
					}
				}
			}
			random_owned_planet = {
				limit = {
					num_pops >= 1
					is_colony = yes
					is_occupied_flag = no
					has_orbital_bombardment = no
					solar_system = { check_civwar_capital = yes }
					pop_percentage = {
						percentage >= 0.15
						limit = { pop_has_ethic = ethic_elitist }
					}
				}
				save_event_target_as = civil_war_planet
				solar_system = {
					set_star_flag = civil_war_flip
					set_star_flag = civwar_planet
				}
			}
			get_systems_for_civwar = yes
		}
		else = {
			get_random_civwar_planet = yes
		}
		if = {
			limit = {
				has_global_flag = more_authorities_activated
			}
			country_event = { id = civwarcountry_ma.1018 }
		}
		else = {
			country_event = { id = civwarcountry.1018 }
		}
	}
}

country_event = { # - Pluralists
	id = civplan.1015
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		if = {
			limit = {
				any_owned_planet = {
					num_pops >= 1
					is_colony = yes
					is_occupied_flag = no
					has_orbital_bombardment = no
					solar_system = { check_civwar_capital = yes }
					pop_percentage = {
						percentage >= 0.15
						limit = { pop_has_ethic = ethic_pluralist }
					}
				}
			}
			random_owned_planet = {
				limit = {
					num_pops >= 1
					is_colony = yes
					is_occupied_flag = no
					has_orbital_bombardment = no
					solar_system = { check_civwar_capital = yes }
					pop_percentage = {
						percentage >= 0.15
						limit = { pop_has_ethic = ethic_pluralist }
					}
				}
				save_event_target_as = civil_war_planet
				solar_system = {
					set_star_flag = civil_war_flip
					set_star_flag = civwar_planet
				}
			}
			get_systems_for_civwar = yes
		}
		else = {
			get_random_civwar_planet = yes
		}
		if = {
			limit = {
				has_global_flag = more_authorities_activated
			}
			country_event = { id = civwarcountry_ma.1019 }
		}
		else = {
			country_event = { id = civwarcountry.1019 }
		}
	}
}

#######################
# Planetary Rebellion #
#######################

# Vanilla
planet_event = {
	id = civplan.2000
	picture = GFX_evt_open_revolt
	title = civplan.2000.name
	desc = civplan.2000.desc
	hide_window = no
	is_triggered_only = yes

	immediate = {
		save_event_target_as = rebellion_planet
		set_planet_flag = planetary_rebellion

		# Get Planetary Rebellion number
		get_planetary_reb_number = yes

		if = {
			limit = {
				has_global_flag = cultural_overhaul_active
			}
			random_list = {
				40 = {
					create_rebels = {
						name = random
						type = default
						species = event_target:civwar_species
						ignore_initial_colony_error = yes
						day_zero_contact = no
						authority = auth_democratic
						ethos = { 
							ethic = ethic_fanatic_egalitarian
							ethic = random
							ethic = random
							ethic = random
						}
						origin = origin_civ_rebellion
						civics = random
						flag = random

						effect = {
							save_event_target_as = civwar_rebels
							root = {
								planet_event = { id = civplan.3000 }
							}
						}
					}
				}
				20 = {
					create_rebels = {
						name = random
						type = default
						species = event_target:civwar_species
						ignore_initial_colony_error = yes
						day_zero_contact = no
						authority = auth_oligarchic
						ethos = random
						origin = origin_civ_rebellion
						civics = random
						flag = random
						effect = {
							save_event_target_as = civwar_rebels
							root = {
								planet_event = { id = civplan.3000 }
							}
						}
					}
				}
				15 = {
					create_rebels = {
						name = random
						type = default
						species = event_target:civwar_species
						ignore_initial_colony_error = yes
						day_zero_contact = no
						authority = auth_dictatorial
						ethos = { 
							ethic = ethic_fanatic_authoritarian
							ethic = random
							ethic = random
							ethic = random
						}
						origin = origin_civ_rebellion
						civics = random
						flag = random
						effect = {
							save_event_target_as = civwar_rebels
							root = {
								planet_event = { id = civplan.3000 }
							}
						}
					}
				}
				15 = {
					create_rebels = {
						name = random
						type = default
						species = event_target:civwar_species
						ignore_initial_colony_error = yes
						day_zero_contact = no
						authority = auth_imperial
						ethos = { 
							ethic = ethic_fanatic_authoritarian
							ethic = random
							ethic = random
							ethic = random
						}
						origin = origin_civ_rebellion
						civics = random
						flag = random
						effect = {
							save_event_target_as = civwar_rebels
							root = {
								planet_event = { id = civplan.3000 }
							}
						}
					}
				}
			}
		}
		else = {
			random_list = {
				40 = {
					create_rebels = {
						name = random
						type = default
						species = event_target:civwar_species
						ignore_initial_colony_error = yes
						day_zero_contact = no
						authority = auth_democratic
						ethos = { 
							ethic = ethic_fanatic_egalitarian
							ethic = random
							ethic = random
						}
						origin = origin_civ_rebellion
						civics = random
						flag = random

						effect = {
							save_event_target_as = civwar_rebels
							root = {
								planet_event = { id = civplan.3000 }
							}
						}
					}
				}
				20 = {
					create_rebels = {
						name = random
						type = default
						species = event_target:civwar_species
						ignore_initial_colony_error = yes
						day_zero_contact = no
						authority = auth_oligarchic
						ethos = random
						origin = origin_civ_rebellion
						civics = random
						flag = random
						effect = {
							save_event_target_as = civwar_rebels
							root = {
								planet_event = { id = civplan.3000 }
							}
						}
					}
				}
				15 = {
					create_rebels = {
						name = random
						type = default
						species = event_target:civwar_species
						ignore_initial_colony_error = yes
						day_zero_contact = no
						authority = auth_dictatorial
						ethos = { 
							ethic = ethic_fanatic_authoritarian
							ethic = random
							ethic = random
						}
						origin = origin_civ_rebellion
						civics = random
						flag = random
						effect = {
							save_event_target_as = civwar_rebels
							root = {
								planet_event = { id = civplan.3000 }
							}
						}
					}
				}
				15 = {
					create_rebels = {
						name = random
						type = default
						species = event_target:civwar_species
						ignore_initial_colony_error = yes
						day_zero_contact = no
						authority = auth_imperial
						ethos = { 
							ethic = ethic_fanatic_authoritarian
							ethic = random
							ethic = random
						}
						origin = origin_civ_rebellion
						civics = random
						flag = random
						effect = {
							save_event_target_as = civwar_rebels
							root = {
								planet_event = { id = civplan.3000 }
							}
						}
					}
				}
			}
		}	
	}

	option = {
		name = civplan.2000.a
		ai_chance = { factor = 1 }
	}
}

# More Authorities
planet_event = {
	id = civplan.2100
	picture = GFX_evt_open_revolt
	title = civplan.2000.name
	desc = civplan.2000.desc
	hide_window = no
	is_triggered_only = yes

	immediate = {
		save_event_target_as = rebellion_planet
		set_planet_flag = planetary_rebellion

		# Get Planetary Rebellion number
		get_planetary_reb_number = yes

		if = {
			limit = {
				has_global_flag = cultural_overhaul_active
			}
			random_list = {
				20 = {
					create_rebels = {
						name = random
						type = default
						species = event_target:civwar_species
						ignore_initial_colony_error = yes
						day_zero_contact = no
						authority = auth_oligarchic
						ethos = { 
							ethic = ethic_fanatic_militarist
							ethic = random
							ethic = random
						}
						origin = origin_civ_rebellion
						civics = random
						flag = random
						effect = {
							save_event_target_as = civwar_rebels
							root = {
								planet_event = { id = civplan.3000 }
							}
						}
					}
				}
				14 = {
					create_rebels = {
						name = random
						type = default
						species = event_target:civwar_species
						ignore_initial_colony_error = yes
						day_zero_contact = no
						authority = auth_democratic
						ethos = { 
							ethic = ethic_fanatic_egalitarian
							ethic = random
							ethic = random
							ethic = random
						}
						origin = origin_civ_rebellion
						civics = random
						flag = random

						effect = {
							save_event_target_as = civwar_rebels
							root = {
								planet_event = { id = civplan.3000 }
							}
						}
					}
				}
				14 = {
					create_rebels = {
						name = random
						type = default
						species = event_target:civwar_species
						ignore_initial_colony_error = yes
						day_zero_contact = no
						authority = auth_direct_democratic
						ethos = { 
							ethic = ethic_fanatic_egalitarian
							ethic = random
							ethic = random
							ethic = random
						}
						origin = origin_civ_rebellion
						civics = random
						flag = random

						effect = {
							save_event_target_as = civwar_rebels
							root = {
								planet_event = { id = civplan.3000 }
							}
						}
					}
				}
				14 = {
					create_rebels = {
						name = random
						type = default
						species = event_target:civwar_species
						ignore_initial_colony_error = yes
						day_zero_contact = no
						authority = auth_strict_democratic
						ethos = { 
							ethic = ethic_fanatic_egalitarian
							ethic = random
							ethic = random
							ethic = random
						}
						origin = origin_civ_rebellion
						civics = random
						flag = random

						effect = {
							save_event_target_as = civwar_rebels
							root = {
								planet_event = { id = civplan.3000 }
							}
						}
					}
				}
				16 = {
					create_rebels = {
						name = random
						type = default
						species = event_target:civwar_species
						ignore_initial_colony_error = yes
						day_zero_contact = no
						authority = auth_democratic_dictatorship
						ethos = { 
							ethic = ethic_fanatic_militarist
							ethic = random
							ethic = random
						}
						origin = origin_civ_rebellion
						civics = random
						flag = random
						effect = {
							save_event_target_as = civwar_rebels
							root = {
								planet_event = { id = civplan.3000 }
							}
						}
					}
				}
				13 = {
					create_rebels = {
						name = random
						type = default
						species = event_target:civwar_species
						ignore_initial_colony_error = yes
						day_zero_contact = no
						authority = auth_dictatorial
						ethos = { 
							ethic = ethic_fanatic_militarist
							ethic = random
							ethic = random
						}
						origin = origin_civ_rebellion
						civics = random
						flag = random
						effect = {
							save_event_target_as = civwar_rebels
							root = {
								planet_event = { id = civplan.3000 }
							}
						}
					}
				}
				8 = {
					create_rebels = {
						name = random
						type = default
						species = event_target:civwar_species
						ignore_initial_colony_error = yes
						day_zero_contact = no
						authority = auth_imperial
						ethos = { 
							ethic = ethic_fanatic_authoritarian
							ethic = random
							ethic = random
						}
						origin = origin_civ_rebellion
						civics = random
						flag = random
						effect = {
							save_event_target_as = civwar_rebels
							root = {
								planet_event = { id = civplan.3000 }
							}
						}
					}
				}
			}
		}
		else = {
			random_list = {
				20 = {
					create_rebels = {
						name = random
						type = default
						species = event_target:civwar_species
						ignore_initial_colony_error = yes
						day_zero_contact = no
						authority = auth_oligarchic
						ethos = { 
							ethic = ethic_fanatic_militarist
							ethic = random
						}
						origin = origin_civ_rebellion
						civics = random
						flag = random
						effect = {
							save_event_target_as = civwar_rebels
							root = {
								planet_event = { id = civplan.3000 }
							}
						}
					}
				}
				14 = {
					create_rebels = {
						name = random
						type = default
						species = event_target:civwar_species
						ignore_initial_colony_error = yes
						day_zero_contact = no
						authority = auth_democratic
						ethos = { 
							ethic = ethic_fanatic_egalitarian
							ethic = random
							ethic = random
						}
						origin = origin_civ_rebellion
						civics = random
						flag = random

						effect = {
							save_event_target_as = civwar_rebels
							root = {
								planet_event = { id = civplan.3000 }
							}
						}
					}
				}
				14 = {
					create_rebels = {
						name = random
						type = default
						species = event_target:civwar_species
						ignore_initial_colony_error = yes
						day_zero_contact = no
						authority = auth_direct_democratic
						ethos = { 
							ethic = ethic_fanatic_egalitarian
							ethic = random
							ethic = random
						}
						origin = origin_civ_rebellion
						civics = random
						flag = random

						effect = {
							save_event_target_as = civwar_rebels
							root = {
								planet_event = { id = civplan.3000 }
							}
						}
					}
				}
				14 = {
					create_rebels = {
						name = random
						type = default
						species = event_target:civwar_species
						ignore_initial_colony_error = yes
						day_zero_contact = no
						authority = auth_strict_democratic
						ethos = { 
							ethic = ethic_fanatic_egalitarian
							ethic = random
							ethic = random
						}
						origin = origin_civ_rebellion
						civics = random
						flag = random

						effect = {
							save_event_target_as = civwar_rebels
							root = {
								planet_event = { id = civplan.3000 }
							}
						}
					}
				}
				16 = {
					create_rebels = {
						name = random
						type = default
						species = event_target:civwar_species
						ignore_initial_colony_error = yes
						day_zero_contact = no
						authority = auth_democratic_dictatorship
						ethos = { 
							ethic = ethic_fanatic_militarist
							ethic = random
						}
						origin = origin_civ_rebellion
						civics = random
						flag = random
						effect = {
							save_event_target_as = civwar_rebels
							root = {
								planet_event = { id = civplan.3000 }
							}
						}
					}
				}
				13 = {
					create_rebels = {
						name = random
						type = default
						species = event_target:civwar_species
						ignore_initial_colony_error = yes
						day_zero_contact = no
						authority = auth_dictatorial
						ethos = { 
							ethic = ethic_fanatic_militarist
							ethic = random
						}
						origin = origin_civ_rebellion
						civics = random
						flag = random
						effect = {
							save_event_target_as = civwar_rebels
							root = {
								planet_event = { id = civplan.3000 }
							}
						}
					}
				}
				8 = {
					create_rebels = {
						name = random
						type = default
						species = event_target:civwar_species
						ignore_initial_colony_error = yes
						day_zero_contact = no
						authority = auth_imperial
						ethos = { 
							ethic = ethic_fanatic_authoritarian
							ethic = random
						}
						origin = origin_civ_rebellion
						civics = random
						flag = random
						effect = {
							save_event_target_as = civwar_rebels
							root = {
								planet_event = { id = civplan.3000 }
							}
						}
					}
				}
			}
		}
	}

	option = {
		name = civplan.2000.a
		ai_chance = { factor = 1 }
	}
}

# Rebels Win
country_event = {
	id = civplan.2001
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		from = {
			is_country_type = rebel
		}
		fromfrom = {
			has_planet_flag = planetary_rebellion
		}
	}

	immediate = {

		save_event_target_as = civwar_originator

		from = {
			save_event_target_as = civwar_rebels
			country_event = { id = civwar.4100 }
		}

		fromfrom.solar_system = {
			starbase = {
				set_owner = event_target:civwar_rebels
			}
		}

		fromfrom = {
			set_owner = event_target:civwar_rebels
			remove_planet_flag = revolt_tick_5
			save_event_target_as = rebellion_planet
			remove_modifier = planetary_rebels
		}

		remove_country_flag = empire_sprawl_0
		remove_country_flag = empire_sprawl_0_10
		remove_country_flag = empire_sprawl_10_20
		remove_country_flag = empire_sprawl_20_30
		remove_country_flag = empire_sprawl_30_40
		remove_country_flag = empire_sprawl_40_50
		remove_country_flag = empire_sprawl_50_60
		remove_country_flag = empire_sprawl_60_70
		remove_country_flag = empire_sprawl_70_80
		remove_country_flag = empire_sprawl_80_90
		remove_country_flag = empire_sprawl_90_100
		remove_country_flag = empire_sprawl_100_plus

		random_list = {
			35 = { country_event = { id = civcom.4000 } }
			65 = { country_event = { id = civcom.4100 } }
		}
	}
}

# Rebels Lose
country_event = {
	id = civplan.2002
	picture = GFX_evt_surrender
	title = civplan.2002.name
	desc = civplan.2002.desc
	hide_window = no
	is_triggered_only = yes

	trigger = {
		is_country_type_with_subjects = yes
		fromfrom = {
			has_planet_flag = planetary_rebellion
			controller = { is_same_value = root }
		}
	}

	immediate = {
		fromfrom = {
			set_timed_planet_flag = { flag = rebellion_suppressed days = 1800 }
			remove_planet_flag = planetary_rebellion
			remove_planet_flag = revolt_tick_5
			remove_modifier = planetary_rebels
			save_event_target_as = rebellion_planet
		}
	}

	option = {
		name = civplan.2002.a
	}
}

# The planet is retaken
country_event = {
	id = civplan.2003
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		fromfrom = {
			has_planet_flag = planetary_rebellion
		}
	}

	immediate = {
		fromfrom = {
			remove_planet_flag = planetary_rebellion
			set_timed_planet_flag = { flag = rebellion_suppressed days = 1800 }
		}
	}
}

# Early game AI Check
planet_event = {
	id = civplan.3000
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		if = {
			limit = {
				owner = { is_ai = yes }
				years_passed < 75
			}
			planet_event = { id = civplan.3001 }
		}
		else = {
			planet_event = { id = civplan.3002 }
		}
	}
}

# Early Game AI Rebel Armies - Planetary Rebellions
planet_event = {
	id = civplan.3001
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		if = {
			limit = {
				num_pops >= 1
				num_pops < 5
			}
			random_list = {
				25 = {
					while = {
						count = 1
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 2
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_defense_army"
						}
					}
				}
				50 = {
					while = {
						count = 2
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 3
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_defense_army"
						}
					}
				}
				25 = {
					while = {
						count = 3
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 4
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_defense_army"
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				num_pops >= 5
				num_pops < 10
			}
			random_list = {
				25 = {
					while = {
						count = 2
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 3
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_defense_army"
						}
					}
				}
				50 = {
					while = {
						count = 3
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 4
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_defense_army"
						}
					}
				}
				25 = {
					while = {
						count = 4
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 5
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_defense_army"
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				num_pops >= 10
				num_pops < 20
			}
			random_list = {
				25 = {
					while = {
						count = 3
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 4
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_defense_army"
						}
					}
				}
				50 = {
					while = {
						count = 4
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 5
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_defense_army"
						}
					}
				}
				25 = {
					while = {
						count = 5
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 6
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_defense_army"
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				num_pops >= 20
				num_pops < 30
			}
			random_list = {
				25 = {
					while = {
						count = 4
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 5
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_defense_army"
						}
					}
				}
				50 = {
					while = {
						count = 5
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 6
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_defense_army"
						}
					}
				}
				25 = {
					while = {
						count = 6
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 7
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_defense_army"
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				num_pops >= 30
				num_pops < 40
			}
			random_list = {
				25 = {
					while = {
						count = 5
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 6
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_defense_army"
						}
					}
				}
				50 = {
					while = {
						count = 6
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 7
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_defense_army"
						}
					}
				}
				25 = {
					while = {
						count = 7
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 8
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_defense_army"
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				num_pops >= 40
				num_pops < 50
			}
			random_list = {
				25 = {
					while = {
						count = 6
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 7
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_defense_army"
						}
					}
				}
				50 = {
					while = {
						count = 7
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 8
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_defense_army"
						}
					}
				}
				25 = {
					while = {
						count = 8
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 9
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_defense_army"
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				num_pops >= 50
				num_pops < 60
			}
			random_list = {
				25 = {
					while = {
						count = 7
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 8
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_defense_army"
						}
					}
				}
				50 = {
					while = {
						count = 8
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 9
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_defense_army"
						}
					}
				}
				25 = {
					while = {
						count = 9
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 10
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_defense_army"
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				num_pops >= 60
				num_pops < 70
			}
			random_list = {
				25 = {
					while = {
						count = 8
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 9
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_defense_army"
						}
					}
				}
				50 = {
					while = {
						count = 9
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 10
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_defense_army"
						}
					}
				}
				25 = {
					while = {
						count = 10
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 11
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_defense_army"
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				num_pops >= 70
				num_pops < 80
			}
			random_list = {
				25 = {
					while = {
						count = 9
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 10
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_defense_army"
						}
					}
				}
				50 = {
					while = {
						count = 10
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 11
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_defense_army"
						}
					}
				}
				25 = {
					while = {
						count = 11
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 12
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_defense_army"
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				num_pops >= 80
				num_pops < 90
			}
			random_list = {
				25 = {
					while = {
						count = 10
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 11
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_defense_army"
						}
					}
				}
				50 = {
					while = {
						count = 11
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 12
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_defense_army"
						}
					}
				}
				25 = {
					while = {
						count = 12
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 13
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_defense_army"
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				num_pops >= 90
				num_pops < 100
			}
			random_list = {
				25 = {
					while = {
						count = 11
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 12
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_defense_army"
						}
					}
				}
				50 = {
					while = {
						count = 12
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 13
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_defense_army"
						}
					}
				}
				25 = {
					while = {
						count = 13
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 14
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_defense_army"
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				num_pops >= 100
			}
			random_list = {
				25 = {
					while = {
						count = 12
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 13
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_defense_army"
						}
					}
				}
				50 = {
					while = {
						count = 13
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 14
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_defense_army"
						}
					}
				}
				25 = {
					while = {
						count = 14
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 15
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_defense_army"
						}
					}
				}
			}
		}
	}
}

# Player Rebel Armies - Planetary Rebellions
planet_event = {
	id = civplan.3002
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		if = {
			limit = {
				num_pops >= 1
				num_pops < 5
			}
			random_list = {
				25 = {
					while = {
						count = 1
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 2
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_defense_army"
						}
					}
				}
				50 = {
					while = {
						count = 2
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 3
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_defense_army"
						}
					}
				}
				25 = {
					while = {
						count = 5
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 5
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_defense_army"
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				num_pops >= 5
				num_pops < 10
			}
			random_list = {
				25 = {
					while = {
						count = 2
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 3
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_defense_army"
						}
					}
				}
				50 = {
					while = {
						count = 5
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 5
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_defense_army"
						}
					}
				}
				25 = {
					while = {
						count = 5
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 10
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_defense_army"
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				num_pops >= 10
				num_pops < 20
			}
			random_list = {
				25 = {
					while = {
						count = 5
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 5
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_defense_army"
						}
					}
				}
				50 = {
					while = {
						count = 5
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 10
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_defense_army"
						}
					}
				}
				25 = {
					while = {
						count = 10
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 10
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_defense_army"
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				num_pops >= 20
				num_pops < 30
			}
			random_list = {
				25 = {
					while = {
						count = 5
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 10
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_defense_army"
						}
					}
				}
				50 = {
					while = {
						count = 10
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 10
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_defense_army"
						}
					}
				}
				25 = {
					while = {
						count = 10
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 15
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_defense_army"
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				num_pops >= 30
				num_pops < 40
			}
			random_list = {
				25 = {
					while = {
						count = 10
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 10
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_defense_army"
						}
					}
				}
				50 = {
					while = {
						count = 10
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 15
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_defense_army"
						}
					}
				}
				25 = {
					while = {
						count = 15
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 15
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_defense_army"
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				num_pops >= 40
				num_pops < 50
			}
			random_list = {
				25 = {
					while = {
						count = 10
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 15
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_defense_army"
						}
					}
				}
				50 = {
					while = {
						count = 15
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 15
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_defense_army"
						}
					}
				}
				25 = {
					while = {
						count = 15
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 20
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_defense_army"
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				num_pops >= 50
				num_pops < 60
			}
			random_list = {
				25 = {
					while = {
						count = 15
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 15
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_defense_army"
						}
					}
				}
				50 = {
					while = {
						count = 15
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 20
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_defense_army"
						}
					}
				}
				25 = {
					while = {
						count = 20
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 20
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_defense_army"
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				num_pops >= 60
				num_pops < 70
			}
			random_list = {
				25 = {
					while = {
						count = 15
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 20
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_defense_army"
						}
					}
				}
				50 = {
					while = {
						count = 20
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 20
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_defense_army"
						}
					}
				}
				25 = {
					while = {
						count = 20
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 25
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_defense_army"
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				num_pops >= 70
				num_pops < 80
			}
			random_list = {
				25 = {
					while = {
						count = 20
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 20
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_defense_army"
						}
					}
				}
				50 = {
					while = {
						count = 20
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 25
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_defense_army"
						}
					}
				}
				25 = {
					while = {
						count = 25
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 25
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_defense_army"
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				num_pops >= 80
				num_pops < 90
			}
			random_list = {
				25 = {
					while = {
						count = 20
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 25
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_defense_army"
						}
					}
				}
				50 = {
					while = {
						count = 25
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 25
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_defense_army"
						}
					}
				}
				25 = {
					while = {
						count = 25
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 30
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_defense_army"
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				num_pops >= 90
				num_pops < 100
			}
			random_list = {
				25 = {
					while = {
						count = 25
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 25
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_defense_army"
						}
					}
				}
				50 = {
					while = {
						count = 25
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 30
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_defense_army"
						}
					}
				}
				25 = {
					while = {
						count = 30
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 30
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_defense_army"
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				num_pops >= 100
			}
			random_list = {
				25 = {
					while = {
						count = 25
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 30
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_defense_army"
						}
					}
				}
				50 = {
					while = {
						count = 30
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 30
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_defense_army"
						}
					}
				}
				25 = {
					while = {
						count = 35
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 30
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:civwar_species
							type = "civwar_defense_army"
						}
					}
				}
			}
		}
	}
}

####

# Player Rebel Armies - Planetary Rebellions
planet_event = {
	id = civplan.3102
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		if = {
			limit = {
				num_pops >= 1
				num_pops < 5
			}
			random_list = {
				25 = {
					while = {
						count = 1
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 2
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
				50 = {
					while = {
						count = 2
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 3
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
				25 = {
					while = {
						count = 5
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 5
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				num_pops >= 5
				num_pops < 10
			}
			random_list = {
				25 = {
					while = {
						count = 2
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 3
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
				50 = {
					while = {
						count = 5
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 5
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
				25 = {
					while = {
						count = 5
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 10
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				num_pops >= 10
				num_pops < 20
			}
			random_list = {
				25 = {
					while = {
						count = 5
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 5
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
				50 = {
					while = {
						count = 5
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 10
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
				25 = {
					while = {
						count = 10
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 10
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				num_pops >= 20
				num_pops < 30
			}
			random_list = {
				25 = {
					while = {
						count = 5
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 10
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
				50 = {
					while = {
						count = 10
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 10
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
				25 = {
					while = {
						count = 10
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 15
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				num_pops >= 30
				num_pops < 40
			}
			random_list = {
				25 = {
					while = {
						count = 10
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 10
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
				50 = {
					while = {
						count = 10
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 15
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
				25 = {
					while = {
						count = 15
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 15
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				num_pops >= 40
				num_pops < 50
			}
			random_list = {
				25 = {
					while = {
						count = 10
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 15
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
				50 = {
					while = {
						count = 15
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 15
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
				25 = {
					while = {
						count = 15
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 20
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				num_pops >= 50
				num_pops < 60
			}
			random_list = {
				25 = {
					while = {
						count = 15
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 15
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
				50 = {
					while = {
						count = 15
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 20
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
				25 = {
					while = {
						count = 20
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 20
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				num_pops >= 60
				num_pops < 70
			}
			random_list = {
				25 = {
					while = {
						count = 15
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 20
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
				50 = {
					while = {
						count = 20
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 20
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
				25 = {
					while = {
						count = 20
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 25
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				num_pops >= 70
				num_pops < 80
			}
			random_list = {
				25 = {
					while = {
						count = 20
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 20
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
				50 = {
					while = {
						count = 20
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 25
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
				25 = {
					while = {
						count = 25
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 25
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				num_pops >= 80
				num_pops < 90
			}
			random_list = {
				25 = {
					while = {
						count = 20
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 25
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
				50 = {
					while = {
						count = 25
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 25
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
				25 = {
					while = {
						count = 25
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 30
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				num_pops >= 90
				num_pops < 100
			}
			random_list = {
				25 = {
					while = {
						count = 25
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 25
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
				50 = {
					while = {
						count = 25
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 30
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
				25 = {
					while = {
						count = 30
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 30
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				num_pops >= 100
			}
			random_list = {
				25 = {
					while = {
						count = 25
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 30
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
				50 = {
					while = {
						count = 30
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 30
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
				25 = {
					while = {
						count = 35
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 30
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
			}
		}
	}
}

# Heir Rebel Armies - Civil War Capital
planet_event = {
	id = civplan.3103
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		if = {
			limit = {
				num_pops >= 1
				num_pops < 5
			}
			random_list = {
				25 = {
					while = {
						count = 5
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 5
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
				50 = {
					while = {
						count = 5
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 10
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
				25 = {
					while = {
						count = 10
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 10
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				num_pops >= 5
				num_pops < 10
			}
			random_list = {
				25 = {
					while = {
						count = 5
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 10
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
				50 = {
					while = {
						count = 10
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 10
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
				25 = {
					while = {
						count = 10
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 15
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				num_pops >= 10
				num_pops < 20
			}
			random_list = {
				25 = {
					while = {
						count = 10
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 10
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
				50 = {
					while = {
						count = 10
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 15
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
				25 = {
					while = {
						count = 15
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 15
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				num_pops >= 20
				num_pops < 30
			}
			random_list = {
				25 = {
					while = {
						count = 10
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 15
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
				50 = {
					while = {
						count = 15
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 15
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
				25 = {
					while = {
						count = 15
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 20
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				num_pops >= 30
				num_pops < 40
			}
			random_list = {
				25 = {
					while = {
						count = 15
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 15
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
				50 = {
					while = {
						count = 15
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 20
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
				25 = {
					while = {
						count = 20
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 20
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				num_pops >= 40
				num_pops < 50
			}
			random_list = {
				25 = {
					while = {
						count = 15
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 20
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
				50 = {
					while = {
						count = 20
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 20
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
				25 = {
					while = {
						count = 20
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 25
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				num_pops >= 50
				num_pops < 60
			}
			random_list = {
				25 = {
					while = {
						count = 20
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 20
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
				50 = {
					while = {
						count = 20
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 25
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
				25 = {
					while = {
						count = 25
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 25
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				num_pops >= 60
				num_pops < 70
			}
			random_list = {
				25 = {
					while = {
						count = 20
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 25
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
				50 = {
					while = {
						count = 25
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 25
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
				25 = {
					while = {
						count = 25
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 30
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				num_pops >= 70
				num_pops < 80
			}
			random_list = {
				25 = {
					while = {
						count = 25
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 25
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
				50 = {
					while = {
						count = 25
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 30
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
				25 = {
					while = {
						count = 30
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 30
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				num_pops >= 80
				num_pops < 90
			}
			random_list = {
				25 = {
					while = {
						count = 25
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 30
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
				50 = {
					while = {
						count = 30
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 30
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
				25 = {
					while = {
						count = 30
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 35
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				num_pops >= 90
				num_pops < 100
			}
			random_list = {
				25 = {
					while = {
						count = 30
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 30
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
				50 = {
					while = {
						count = 30
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 35
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
				25 = {
					while = {
						count = 35
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 35
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				num_pops >= 100
			}
			random_list = {
				25 = {
					while = {
						count = 30
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 35
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
				50 = {
					while = {
						count = 35
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 35
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
				25 = {
					while = {
						count = 35
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_assault_army"
						}
					}
					while = {
						count = 40
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
			}
		}
	}
}

# Heir Rebel Armies - Civil Wars - Other Planets in Sector
planet_event = {
	id = civplan.3104
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		if = {
			limit = {
				num_pops >= 1
				num_pops < 5
			}
			random_list = {
				25 = {
					while = {
						count = 10
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
				50 = {
					while = {
						count = 15
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
				25 = {
					while = {
						count = 20
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				num_pops >= 5
				num_pops < 10
			}
			random_list = {
				25 = {
					while = {
						count = 15
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
				50 = {
					while = {
						count = 20
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
				25 = {
					while = {
						count = 25
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				num_pops >= 10
				num_pops < 20
			}
			random_list = {
				25 = {
					while = {
						count = 20
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
				50 = {
					while = {
						count = 25
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
				25 = {
					while = {
						count = 30
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				num_pops >= 20
				num_pops < 30
			}
			random_list = {
				25 = {
					while = {
						count = 25
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
				50 = {
					while = {
						count = 30
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
				25 = {
					while = {
						count = 35
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				num_pops >= 30
				num_pops < 40
			}
			random_list = {
				25 = {
					while = {
						count = 30
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
				50 = {
					while = {
						count = 35
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
				25 = {
					while = {
						count = 40
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				num_pops >= 40
				num_pops < 50
			}
			random_list = {
				25 = {
					while = {
						count = 35
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
				50 = {
					while = {
						count = 40
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
				25 = {
					while = {
						count = 45
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				num_pops >= 50
				num_pops < 60
			}
			random_list = {
				25 = {
					while = {
						count = 40
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
				50 = {
					while = {
						count = 45
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
				25 = {
					while = {
						count = 50
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				num_pops >= 60
				num_pops < 70
			}
			random_list = {
				25 = {
					while = {
						count = 45
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
				50 = {
					while = {
						count = 50
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
				25 = {
					while = {
						count = 55
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				num_pops >= 70
				num_pops < 80
			}
			random_list = {
				25 = {
					while = {
						count = 50
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
				50 = {
					while = {
						count = 55
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
				25 = {
					while = {
						count = 60
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				num_pops >= 80
				num_pops < 90
			}
			random_list = {
				25 = {
					while = {
						count = 55
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
				50 = {
					while = {
						count = 60
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
				25 = {
					while = {
						count = 65
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				num_pops >= 90
				num_pops < 100
			}
			random_list = {
				25 = {
					while = {
						count = 60
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
				50 = {
					while = {
						count = 65
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
				25 = {
					while = {
						count = 70
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				num_pops >= 100
			}
			random_list = {
				25 = {
					while = {
						count = 65
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
				50 = {
					while = {
						count = 70
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
				25 = {
					while = {
						count = 75
						create_army = {
							name = random
							owner = event_target:civwar_rebels
							species = event_target:heir_species
							type = "civwar_defense_army"
						}
					}
				}
			}
		}
	}
}

##################
# Heir Rebellion #
##################

# Setup
planet_event = {
	id = civplan.4000
	picture = GFX_evt_open_revolt
	title = civplan.4000.name
	desc = civplan.4000.desc
	hide_window = no
	is_triggered_only = yes

	immediate = {
		save_event_target_as = heir_rebellion_planet
		set_planet_flag = heir_planetary_rebellion
		create_rebels = {
			name = random
			type = default
			species = event_target:heir_species
			ignore_initial_colony_error = yes
			day_zero_contact = no
			authority = auth_imperial
			ethos = event_target:civwar_originator
			origin = origin_heir_rebellion
			civics = event_target:civwar_originator
			flag = random
			effect = {
				save_event_target_as = civwar_rebels
				root = {
					planet_event = { id = civplan.3102 }
				}
			}
		}	
	}

	option = {
		name = civplan.2000.a
		ai_chance = { factor = 1 }
	}
}

# Heir's forces Win
country_event = {
	id = civplan.4001
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		from = {
			is_country_type = rebel
		}
		fromfrom = {
			has_planet_flag = heir_planetary_rebellion
		}
	}

	immediate = {

		save_event_target_as = civwar_originator

		from = { save_event_target_as = civwar_rebels }

		fromfrom.solar_system = {
			starbase = {
				set_owner = event_target:civwar_rebels
			}
		}

		fromfrom = {
			remove_planet_flag = heir_planetary_rebellion
			set_owner = event_target:civwar_rebels
			save_event_target_as = heir_rebellion_planet
		}

		from = { country_event = { id = civheir.4001 } }

		remove_country_flag = empire_sprawl_0
		remove_country_flag = empire_sprawl_0_10
		remove_country_flag = empire_sprawl_10_20
		remove_country_flag = empire_sprawl_20_30
		remove_country_flag = empire_sprawl_30_40
		remove_country_flag = empire_sprawl_40_50
		remove_country_flag = empire_sprawl_50_60
		remove_country_flag = empire_sprawl_60_70
		remove_country_flag = empire_sprawl_70_80
		remove_country_flag = empire_sprawl_80_90
		remove_country_flag = empire_sprawl_90_100
		remove_country_flag = empire_sprawl_100_plus

		country_event = { id = civcom.6200 }
	}
}

# Heir's forces Lose
country_event = {
	id = civplan.4002
	picture = GFX_evt_surrender
	title = civplan.4002.name
	desc = civplan.4002.desc
	hide_window = no
	is_triggered_only = yes

	trigger = {
		is_country_type_with_subjects = yes
		fromfrom = {
			has_planet_flag = heir_planetary_rebellion
			controller = { is_same_value = root }
		}
	}

	immediate = {
		fromfrom = {
			remove_planet_flag = heir_planetary_rebellion
		}
		event_target:heir_civil_war_dummy_country = {
			ruler = {
				set_leader_flag = defeated_traitor_heir
				save_global_event_target_as = defeated_traitor
			}
		}
		country_event = { id = civcom.7000 }
	}

	option = {
		name = civplan.4002.a
	}
}
